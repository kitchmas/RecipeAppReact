{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{60:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(1);\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactDom = __webpack_require__(58);\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nvar _firebase = __webpack_require__(13);\\n\\nvar _RecipeItem = __webpack_require__(36);\\n\\nvar _RecipeForm = __webpack_require__(32);\\n\\nvar _RecipeView = __webpack_require__(27);\\n\\nvar _nav = __webpack_require__(26);\\n\\nvar _ShoppingList = __webpack_require__(19);\\n\\nvar _login = __webpack_require__(18);\\n\\nvar _reactTextareaAutosize = __webpack_require__(11);\\n\\nvar _reactTextareaAutosize2 = _interopRequireDefault(_reactTextareaAutosize);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar RecipePage = function (_React$Component) {\\n  _inherits(RecipePage, _React$Component);\\n\\n  function RecipePage(props) {\\n    _classCallCheck(this, RecipePage);\\n\\n    var _this = _possibleConstructorReturn(this, (RecipePage.__proto__ || Object.getPrototypeOf(RecipePage)).call(this, props));\\n\\n    _this.state = {\\n      authUser: null,\\n      currentView: 1,\\n      views: { gridLayout: 1, listLayout: 2, createRecipe: 3, editRecipe: 4, viewRecipe: 5 },\\n      selectedRecipe: {},\\n      recipes: [],\\n      newRecipe: {\\n        name: \\\"\\\",\\n        description: \\\"\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"\\\",\\n        ingredients: []\\n      },\\n      creatingShoppingList: false,\\n      shoppingList: [],\\n      shoppingListExtras: []\\n    };\\n    _this.onSubmit = _this.onSubmit.bind(_this);\\n    _this.createRecipe = _this.createRecipe.bind(_this);\\n    _this.recipeClicked = _this.recipeClicked.bind(_this);\\n    _this.editRecipe = _this.editRecipe.bind(_this);\\n    _this.gridLayout = _this.gridLayout.bind(_this);\\n    _this.listLayout = _this.listLayout.bind(_this);\\n    _this.createShoppingListClicked = _this.createShoppingListClicked.bind(_this);\\n    _this.addShoppingListExtras = _this.addShoppingListExtras.bind(_this);\\n    _this.logOutClicked = _this.logOutClicked.bind(_this);\\n    return _this;\\n  }\\n\\n  _createClass(RecipePage, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      var _this2 = this;\\n\\n      _firebase.auth.onAuthStateChanged(function (authUser) {\\n        authUser ? _this2.setState(function () {\\n          return { authUser: authUser };\\n        }) : _this2.setState(function () {\\n          return { authUser: null };\\n        });\\n      });\\n      this.getRecipes();\\n    }\\n  }, {\\n    key: 'getRecipes',\\n    value: function getRecipes() {\\n      var _this3 = this;\\n\\n      _firebase.firestore.collection('Recipes').get().then(function (querySnapshot) {\\n        var recipes = querySnapshot.docs.map(function (doc) {\\n          var recipe = doc.data();\\n          recipe.id = doc.id;\\n\\n          return recipe;\\n        });\\n        _this3.setState(function (prevState) {\\n          return {\\n            recipes: recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      });\\n    }\\n  }, {\\n    key: 'createRecipe',\\n    value: function createRecipe() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.createRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'recipeClicked',\\n    value: function recipeClicked(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      debugger;\\n      if (this.state.creatingShoppingList) {\\n        var shoppingList = JSON.parse(JSON.stringify(this.state.shoppingList)),\\n            ingredients = JSON.parse(JSON.stringify(selectedRecipe.ingredients));;\\n\\n        if (shoppingList.length > 0) {\\n          var matchedIngredients = ingredients.filter(function (ingredient) {\\n            return shoppingList.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingList.forEach(function (listItem) {\\n            var matchedItem = matchedIngredients.find(function (x) {\\n              return listItem.name === x.name;\\n            });\\n            if (matchedItem) {\\n              listItem.amount = Number(listItem.amount) + Number(matchedItem.amount);\\n            }\\n          });\\n\\n          // let newItems = ingredients.filter((ingredient) => { return shoppingList.findIndex(ingredient.name) == -1; })\\n          var newItems = ingredients.filter(function (ingredient) {\\n            return !shoppingList.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: [].concat(_toConsumableArray(shoppingList), _toConsumableArray(newItems))\\n            };\\n          });\\n        } else {\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: ingredients\\n            };\\n          });\\n        }\\n      } else {\\n        this.setState(function (prevState) {\\n          return {\\n            currentView: prevState.views.viewRecipe,\\n            selectedRecipe: selectedRecipe\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'editRecipe',\\n    value: function editRecipe(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.editRecipe,\\n          selectedRecipe: selectedRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'onSubmit',\\n    value: function onSubmit(recipe) {\\n      var _this4 = this;\\n\\n      if (this.state.currentView === this.state.views.createRecipe) {\\n        var newRecipe = recipe,\\n            recipes = this.state.recipes.slice();\\n\\n        _firebase.firestore.collection('Recipes').doc().set(recipe).then(function (docRef) {\\n          console.log(\\\"Recipe saved successfully\\\");\\n          _this4.getRecipes();\\n        }).catch(function (error) {\\n          return console.log(\\\"Error adding document: \\\", error);\\n        });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        var editedRecipe = recipe,\\n            _recipes = this.state.recipes.slice(),\\n            currentIndex = _recipes.findIndex(function (recipe) {\\n          return recipe.id === editedRecipe.id;\\n        });\\n\\n        _recipes[currentIndex] = editedRecipe;\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: _recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'gridLayout',\\n    value: function gridLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.gridLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'listLayout',\\n    value: function listLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.listLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'createShoppingListClicked',\\n    value: function createShoppingListClicked() {\\n      this.setState(function (prev) {\\n        return {\\n          creatingShoppingList: prev.creatingShoppingList ? false : true\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'addShoppingListExtras',\\n    value: function addShoppingListExtras(shoppingListExtras) {\\n      if (shoppingListExtras) {\\n        this.setState({\\n          shoppingListExtras: shoppingListExtras\\n        });\\n      } else {\\n        return;\\n      }\\n    }\\n  }, {\\n    key: 'logOutClicked',\\n    value: function logOutClicked(e) {\\n      e.preventDefault();\\n      _firebase.auth.signOut();\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this5 = this;\\n\\n      var recipes,\\n          content,\\n          wrapper,\\n          nav = _react2.default.createElement(_nav.RecipeNav, {\\n        createRecipe: this.createRecipe,\\n        createShoppingList: this.createShoppingListClicked,\\n        gridLayout: this.gridLayout,\\n        listLayout: this.listLayout });\\n\\n      if (this.state.authUser) {\\n        if (this.state.currentView === this.state.views.gridLayout || this.state.currentView === this.state.views.listLayout) {\\n          recipes = this.state.recipes.map(function (recipe, index) {\\n            return _react2.default.createElement(_RecipeItem.RecipeItem, { onClick: _this5.recipeClicked, recipe: recipe, key: index });\\n          });\\n          content = _react2.default.createElement(\\n            'div',\\n            { id: this.state.currentView === this.state.views.gridLayout ? 'recipe-book-grid' : 'recipe-book-list' },\\n            recipes\\n          );\\n        } else if (this.state.currentView === this.state.views.createRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.newRecipe\\n            // newIngredientName={this.state.newIngredientName}\\n            , onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        } else if (this.state.currentView === this.state.views.viewRecipe) {\\n          content = _react2.default.createElement(_RecipeView.RecipeView, { recipe: this.state.selectedRecipe, onClick: this.editRecipe });\\n        } else if (this.state.currentView === this.state.views.editRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.selectedRecipe,\\n            newIngredientName: this.state.newIngredientName,\\n            onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        }\\n        if (this.state.creatingShoppingList) {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-flex-wrapper' },\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'shopping-wrapper' },\\n                _react2.default.createElement(_ShoppingList.ShoppingList, { shoppingList: this.state.shoppingList, shoppingListExtras: this.state.shoppingListExtras, onClick: this.addShoppingListExtras })\\n              ),\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'recipe-book-wrapper' },\\n                content\\n              )\\n            )\\n          );\\n        } else {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-wrapper' },\\n              ' ',\\n              content\\n            ),\\n            _react2.default.createElement(\\n              'div',\\n              { onClick: this.logOutClicked },\\n              'Log Out'\\n            )\\n          );\\n        }\\n      } else {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          _react2.default.createElement(_login.Login, null)\\n        );\\n      }\\n      return wrapper;\\n    }\\n  }]);\\n\\n  return RecipePage;\\n}(_react2.default.Component);\\n\\n{} /* <div class=\\\"max-600\\\">max-width: 600px</div>\\r\\n            <div class=\\\"min-600\\\">min-width: 600px</div>\\r\\n            <div class=\\\"min-768\\\">min-width: 768px</div>\\r\\n            <div class=\\\"min-992\\\">min-width: 992px</div>\\r\\n            <div class=\\\"min-1200\\\">min-width: 1200px</div>\\r\\n         </div> */\\n// ========================================\\n\\n_reactDom2.default.render(_react2.default.createElement(RecipePage, null), document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJwcm9wcyIsInN0YXRlIiwiYXV0aFVzZXIiLCJjdXJyZW50VmlldyIsInZpZXdzIiwiZ3JpZExheW91dCIsImxpc3RMYXlvdXQiLCJjcmVhdGVSZWNpcGUiLCJlZGl0UmVjaXBlIiwidmlld1JlY2lwZSIsInNlbGVjdGVkUmVjaXBlIiwicmVjaXBlcyIsIm5ld1JlY2lwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm5ld0luZ3JlZGllbnROYW1lIiwibWV0aG9kIiwiaW5ncmVkaWVudHMiLCJjcmVhdGluZ1Nob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdEV4dHJhcyIsIm9uU3VibWl0IiwiYmluZCIsInJlY2lwZUNsaWNrZWQiLCJjcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkIiwiYWRkU2hvcHBpbmdMaXN0RXh0cmFzIiwibG9nT3V0Q2xpY2tlZCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInNldFN0YXRlIiwiZ2V0UmVjaXBlcyIsImNvbGxlY3Rpb24iLCJnZXQiLCJ0aGVuIiwicXVlcnlTbmFwc2hvdCIsImRvY3MiLCJtYXAiLCJyZWNpcGUiLCJkb2MiLCJkYXRhIiwiaWQiLCJwcmV2U3RhdGUiLCJyZWNpcGVJZCIsImZpbmQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJtYXRjaGVkSW5ncmVkaWVudHMiLCJmaWx0ZXIiLCJzb21lIiwibGlzdEl0ZW0iLCJpbmdyZWRpZW50IiwiZm9yRWFjaCIsIm1hdGNoZWRJdGVtIiwieCIsImFtb3VudCIsIk51bWJlciIsIm5ld0l0ZW1zIiwic2xpY2UiLCJzZXQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImVkaXRlZFJlY2lwZSIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsInByZXYiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaWduT3V0IiwiY29udGVudCIsIndyYXBwZXIiLCJuYXYiLCJpbmRleCIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImFkZEluZ3JlZGllbnQiLCJpbmdyZWRpZW50T25EZWxldGUiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7OztJQUdNQSxVOzs7QUFDSixzQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLHdIQUNYQSxLQURXOztBQUVqQixVQUFLQyxLQUFMLEdBQWE7QUFDWEMsZ0JBQVUsSUFEQztBQUVYQyxtQkFBYSxDQUZGO0FBR1hDLGFBQU8sRUFBRUMsWUFBWSxDQUFkLEVBQWlCQyxZQUFZLENBQTdCLEVBQWdDQyxjQUFjLENBQTlDLEVBQWlEQyxZQUFZLENBQTdELEVBQWdFQyxZQUFZLENBQTVFLEVBSEk7QUFJWEMsc0JBQWdCLEVBSkw7QUFLWEMsZUFBUyxFQUxFO0FBTVhDLGlCQUFXO0FBQ1RDLGNBQU0sRUFERztBQUVUQyxxQkFBYSxFQUZKO0FBR1RDLDJCQUFtQixFQUhWO0FBSVRDLGdCQUFRLEVBSkM7QUFLVEMscUJBQWE7QUFMSixPQU5BO0FBYVhDLDRCQUFzQixLQWJYO0FBY1hDLG9CQUFjLEVBZEg7QUFlWEMsMEJBQW9CO0FBZlQsS0FBYjtBQWlCQSxVQUFLQyxRQUFMLEdBQWdCLE1BQUtBLFFBQUwsQ0FBY0MsSUFBZCxPQUFoQjtBQUNBLFVBQUtmLFlBQUwsR0FBb0IsTUFBS0EsWUFBTCxDQUFrQmUsSUFBbEIsT0FBcEI7QUFDQSxVQUFLQyxhQUFMLEdBQXFCLE1BQUtBLGFBQUwsQ0FBbUJELElBQW5CLE9BQXJCO0FBQ0EsVUFBS2QsVUFBTCxHQUFrQixNQUFLQSxVQUFMLENBQWdCYyxJQUFoQixPQUFsQjtBQUNBLFVBQUtqQixVQUFMLEdBQWtCLE1BQUtBLFVBQUwsQ0FBZ0JpQixJQUFo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QUFBQSxnQkFBSyxXQUFVLG1CQUFmO0FBQ0U7QUFBQTtBQUFBLGtCQUFLLFdBQVUsa0JBQWY7QUFDRSw0RUFBYyxjQUFjLEtBQUt4RSxLQUFMLENBQVdrQixZQUF2QyxFQUFxRCxvQkFBb0IsS0FBS2xCLEtBQUwsQ0FBV21CLGtCQUFwRixFQUF3RyxTQUFTLEtBQUtLLHFCQUF0SDtBQURGLGVBREY7QUFJRTtBQUFBO0FBQUEsa0JBQUssV0FBVSxxQkFBZjtBQUNHOEM7QUFESDtBQUpGO0FBRkYsV0FERjtBQVlELFNBYkQsTUFhTztBQUNMQyxvQkFDRTtBQUFBO0FBQUE7QUFDR0MsZUFESDtBQUVFO0FBQUE7QUFBQSxnQkFBSyxXQUFVLGNBQWY7QUFBQTtBQUFnQ0Y7QUFBaEMsYUFGRjtBQUdFO0FBQUE7QUFBQSxnQkFBSyxTQUFTLEtBQUs3QyxhQUFuQjtBQUFBO0FBQUE7QUFIRixXQURGO0FBTUQ7QUFDRixPQWpERCxNQWlETztBQUNMOEMsa0JBQ0U7QUFBQTtBQUFBO0FBQ0U7QUFERixTQURGO0FBSUQ7QUFDRCxhQUNFQSxPQURGO0FBR0Q7Ozs7RUF0T3NCLGdCQUFNTSxTOztBQXlPL0IsQ0FLaUIsQyxDQUxoQjs7Ozs7O0FBTUQ7O0FBRUEsbUJBQVNDLE1BQVQsQ0FBZ0IsOEJBQUMsVUFBRCxPQUFoQixFQUNFQyxTQUFTQyxjQUFULENBQXdCLE1BQXhCLENBREYiLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00sIHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJy4vZmlyZWJhc2UuanN4JztcclxuaW1wb3J0IHsgcmVjaXBlREIgfSBmcm9tICcuL2ZpcmViYXNlLmpzeCc7XHJcbmltcG9ydCB7IGZpcmVzdG9yZSB9IGZyb20gJy4vZmlyZWJhc2UuanN4JztcclxuaW1wb3J0IHsgUmVjaXBlSXRlbSB9IGZyb20gJy4vUmVjaXBlSXRlbS5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVGb3JtIH0gZnJvbSAnLi9SZWNpcGVGb3JtLmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZVZpZXcgfSBmcm9tICcuL1JlY2lwZVZpZXcuanN4JztcclxuaW1wb3J0IHsgUmVjaXBlTmF2IH0gZnJvbSAnLi9uYXYuanN4JztcclxuaW1wb3J0IHsgU2hvcHBpbmdMaXN0IH0gZnJvbSAnLi9TaG9wcGluZ0xpc3QuanN4JztcclxuaW1wb3J0IHsgTG9naW4gfSBmcm9tICcuL2xvZ2luLmpzeCc7XHJcbmltcG9ydCBUZXh0YXJlYSBmcm9tIFwicmVhY3QtdGV4dGFyZWEtYXV0b3NpemVcIjtcclxuXHJcblxyXG5jbGFzcyBSZWNpcGVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXV0aFVzZXI6IG51bGwsXHJcbiAgICAgIGN1cnJlbnRWaWV3OiAxLFxyXG4gICAgICB2aWV3czogeyBncmlkTGF5b3V0OiAxLCBsaXN0TGF5b3V0OiAyLCBjcmVhdGVSZWNpcGU6IDMsIGVkaXRSZWNpcGU6IDQsIHZpZXdSZWNpcGU6IDUgfSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHt9LFxyXG4gICAgICByZWNpcGVzOiBbXSxcclxuICAgICAgbmV3UmVjaXBlOiB7XHJcbiAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICBtZXRob2Q6IFwiXCIsXHJcbiAgICAgICAgaW5ncmVkaWVudHM6IFtdXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0OiBbXSxcclxuICAgICAgc2hvcHBpbmdMaXN0RXh0cmFzOiBbXVxyXG4gICAgfVxyXG4gICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlUmVjaXBlID0gdGhpcy5jcmVhdGVSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucmVjaXBlQ2xpY2tlZCA9IHRoaXMucmVjaXBlQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lZGl0UmVjaXBlID0gdGhpcy5lZGl0UmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdyaWRMYXlvdXQgPSB0aGlzLmdyaWRMYXlvdXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMubGlzdExheW91dCA9IHRoaXMubGlzdExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcyA9IHRoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxvZ091dENsaWNrZWQgPSB0aGlzLmxvZ091dENsaWNrZWQuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoVXNlciA9PiB7XHJcbiAgICAgIGF1dGhVc2VyXHJcbiAgICAgICAgPyB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGF1dGhVc2VyIH0pKVxyXG4gICAgICAgIDogdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBhdXRoVXNlcjogbnVsbCB9KSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZ2V0UmVjaXBlcygpO1xyXG4gIH1cclxuICBnZXRSZWNpcGVzKCkge1xyXG4gICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1JlY2lwZXMnKS5nZXQoKS50aGVuKHF1ZXJ5U25hcHNob3QgPT4ge1xyXG4gICAgICBsZXQgcmVjaXBlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcclxuICAgICAgICBsZXQgcmVjaXBlID0gZG9jLmRhdGEoKTtcclxuICAgICAgICByZWNpcGUuaWQgPSBkb2MuaWQ7XHJcblxyXG4gICAgICAgIHJldHVybiByZWNpcGU7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgcmVjaXBlczogcmVjaXBlcyxcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmdyaWRMYXlvdXRcclxuICAgICAgfVxyXG4gICAgICApKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjcmVhdGVSZWNpcGUoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuY3JlYXRlUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIHJlY2lwZUNsaWNrZWQocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQ7IH0pO1xyXG4gICAgZGVidWdnZXI7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jcmVhdGluZ1Nob3BwaW5nTGlzdCkge1xyXG4gICAgICBsZXQgc2hvcHBpbmdMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLnNob3BwaW5nTGlzdCkpLFxyXG4gICAgICAgIGluZ3JlZGllbnRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzZWxlY3RlZFJlY2lwZS5pbmdyZWRpZW50cykpOztcclxuXHJcbiAgICAgIGlmIChzaG9wcGluZ0xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCBtYXRjaGVkSW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cy5maWx0ZXIoaW5ncmVkaWVudCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gc2hvcHBpbmdMaXN0LnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW0ubmFtZSA9PT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0LmZvckVhY2gobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgdmFyIG1hdGNoZWRJdGVtID0gbWF0Y2hlZEluZ3JlZGllbnRzLmZpbmQoeCA9PiBsaXN0SXRlbS5uYW1lID09PSB4Lm5hbWUpO1xyXG4gICAgICAgICAgaWYgKG1hdGNoZWRJdGVtKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmFtb3VudCA9IE51bWJlcihsaXN0SXRlbS5hbW91bnQpICsgTnVtYmVyKG1hdGNoZWRJdGVtLmFtb3VudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxldCBuZXdJdGVtcyA9IGluZ3JlZGllbnRzLmZpbHRlcigoaW5ncmVkaWVudCkgPT4geyByZXR1cm4gc2hvcHBpbmdMaXN0LmZpbmRJbmRleChpbmdyZWRpZW50Lm5hbWUpID09IC0xOyB9KVxyXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gaW5ncmVkaWVudHMuZmlsdGVyKGluZ3JlZGllbnQgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFzaG9wcGluZ0xpc3Quc29tZShsaXN0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5uYW1lID09PSBpbmdyZWRpZW50Lm5hbWU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IFsuLi5zaG9wcGluZ0xpc3QsIC4uLm5ld0l0ZW1zXVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IGluZ3JlZGllbnRzXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3Mudmlld1JlY2lwZSxcclxuICAgICAgICBzZWxlY3RlZFJlY2lwZTogc2VsZWN0ZWRSZWNpcGVcclxuICAgICAgfSkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBlZGl0UmVjaXBlKHJlY2lwZUlkKSB7XHJcbiAgICB2YXIgc2VsZWN0ZWRSZWNpcGUgPSB0aGlzLnN0YXRlLnJlY2lwZXMuZmluZCgocmVjaXBlKSA9PiB7IHJldHVybiByZWNpcGUuaWQgPT09IHJlY2lwZUlkIH0pO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmVkaXRSZWNpcGUsXHJcbiAgICAgIHNlbGVjdGVkUmVjaXBlOiBzZWxlY3RlZFJlY2lwZVxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBvblN1Ym1pdChyZWNpcGUpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmNyZWF0ZVJlY2lwZSkge1xyXG4gICAgICBsZXQgbmV3UmVjaXBlID0gcmVjaXBlLFxyXG4gICAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMuc2xpY2UoKTtcclxuXHJcbiAgICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdSZWNpcGVzJykuZG9jKCkuc2V0KHJlY2lwZSlcclxuICAgICAgICAudGhlbihkb2NSZWYgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJSZWNpcGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgdGhpcy5nZXRSZWNpcGVzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coXCJFcnJvciBhZGRpbmcgZG9jdW1lbnQ6IFwiLCBlcnJvcikpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5lZGl0UmVjaXBlKSB7XHJcbiAgICAgIGxldCBlZGl0ZWRSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpLFxyXG4gICAgICAgIGN1cnJlbnRJbmRleCA9IHJlY2lwZXMuZmluZEluZGV4KChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gZWRpdGVkUmVjaXBlLmlkIH0pO1xyXG5cclxuICAgICAgcmVjaXBlc1tjdXJyZW50SW5kZXhdID0gZWRpdGVkUmVjaXBlO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgcmVjaXBlczogcmVjaXBlcyxcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmdyaWRMYXlvdXRcclxuICAgICAgfVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ3JpZExheW91dCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5ncmlkTGF5b3V0XHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIGxpc3RMYXlvdXQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MubGlzdExheW91dFxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBjcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldikgPT4gKHtcclxuICAgICAgY3JlYXRpbmdTaG9wcGluZ0xpc3Q6IHByZXYuY3JlYXRpbmdTaG9wcGluZ0xpc3QgPyBmYWxzZSA6IHRydWVcclxuICAgIH0pKVxyXG4gIH1cclxuICBhZGRTaG9wcGluZ0xpc3RFeHRyYXMoc2hvcHBpbmdMaXN0RXh0cmFzKSB7XHJcbiAgICBpZiAoc2hvcHBpbmdMaXN0RXh0cmFzKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNob3BwaW5nTGlzdEV4dHJhczogc2hvcHBpbmdMaXN0RXh0cmFzXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuICBsb2dPdXRDbGlja2VkKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGF1dGguc2lnbk91dCgpO1xyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICB2YXIgcmVjaXBlcyxcclxuICAgICAgY29udGVudCxcclxuICAgICAgd3JhcHBlcixcclxuICAgICAgbmF2ID0gPFJlY2lwZU5hdlxyXG4gICAgICAgIGNyZWF0ZVJlY2lwZT17dGhpcy5jcmVhdGVSZWNpcGV9XHJcbiAgICAgICAgY3JlYXRlU2hvcHBpbmdMaXN0PXt0aGlzLmNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWR9XHJcbiAgICAgICAgZ3JpZExheW91dD17dGhpcy5ncmlkTGF5b3V0fVxyXG4gICAgICAgIGxpc3RMYXlvdXQ9e3RoaXMubGlzdExheW91dH0gLz47XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXV0aFVzZXIpIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZ3JpZExheW91dCB8fCB0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmxpc3RMYXlvdXQpIHtcclxuICAgICAgICByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLm1hcCgocmVjaXBlLCBpbmRleCkgPT5cclxuICAgICAgICAgIDxSZWNpcGVJdGVtIG9uQ2xpY2s9e3RoaXMucmVjaXBlQ2xpY2tlZH0gcmVjaXBlPXtyZWNpcGV9IGtleT17aW5kZXh9IC8+LFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29udGVudCA9IDxkaXYgaWQ9e3RoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZ3JpZExheW91dCA/ICdyZWNpcGUtYm9vay1ncmlkJyA6ICdyZWNpcGUtYm9vay1saXN0J30+XHJcbiAgICAgICAgICB7cmVjaXBlc31cclxuICAgICAgICA8L2Rpdj47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGUpIHtcclxuICAgICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLm5ld1JlY2lwZX1cclxuICAgICAgICAgIC8vIG5ld0luZ3JlZGllbnROYW1lPXt0aGlzLnN0YXRlLm5ld0luZ3JlZGllbnROYW1lfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VkfVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgICAgb25EZWxldGU9e3RoaXMuaW5ncmVkaWVudE9uRGVsZXRlfVxyXG4gICAgICAgICAgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9IC8+O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3Mudmlld1JlY2lwZSkge1xyXG4gICAgICAgIGNvbnRlbnQgPSA8UmVjaXBlVmlldyByZWNpcGU9e3RoaXMuc3RhdGUuc2VsZWN0ZWRSZWNpcGV9IG9uQ2xpY2s9e3RoaXMuZWRpdFJlY2lwZX0gLz47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5lZGl0UmVjaXBlKSB7XHJcbiAgICAgICAgY29udGVudCA9IDxSZWNpcGVGb3JtIHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX1cclxuICAgICAgICAgIG5ld0luZ3JlZGllbnROYW1lPXt0aGlzLnN0YXRlLm5ld0luZ3JlZGllbnROYW1lfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VkfVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgICAgb25EZWxldGU9e3RoaXMuaW5ncmVkaWVudE9uRGVsZXRlfVxyXG4gICAgICAgICAgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9IC8+O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNyZWF0aW5nU2hvcHBpbmdMaXN0KSB7XHJcbiAgICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7bmF2fVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tZmxleC13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaG9wcGluZy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8U2hvcHBpbmdMaXN0IHNob3BwaW5nTGlzdD17dGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3R9IHNob3BwaW5nTGlzdEV4dHJhcz17dGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3RFeHRyYXN9IG9uQ2xpY2s9e3RoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzfSAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWJvb2std3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7bmF2fVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4td3JhcHBlclwiPiB7Y29udGVudH08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmxvZ091dENsaWNrZWR9PkxvZyBPdXQ8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3cmFwcGVyID1cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPExvZ2luIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3cmFwcGVyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuey8qIDxkaXYgY2xhc3M9XCJtYXgtNjAwXCI+bWF4LXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi02MDBcIj5taW4td2lkdGg6IDYwMHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTc2OFwiPm1pbi13aWR0aDogNzY4cHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tOTkyXCI+bWluLXdpZHRoOiA5OTJweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi0xMjAwXCI+bWluLXdpZHRoOiAxMjAwcHg8L2Rpdj5cclxuICAgICAgIDwvZGl2PiAqL31cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxSZWNpcGVQYWdlIC8+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTsiXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///60\\n\")}});","extractedComments":[]}