{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{60:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(1);\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactDom = __webpack_require__(58);\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nvar _firebase = __webpack_require__(13);\\n\\nvar _IdCreator = __webpack_require__(84);\\n\\nvar _RecipeItem = __webpack_require__(36);\\n\\nvar _RecipeForm = __webpack_require__(32);\\n\\nvar _RecipeView = __webpack_require__(27);\\n\\nvar _nav = __webpack_require__(26);\\n\\nvar _ShoppingList = __webpack_require__(19);\\n\\nvar _login = __webpack_require__(18);\\n\\nvar _reactTextareaAutosize = __webpack_require__(11);\\n\\nvar _reactTextareaAutosize2 = _interopRequireDefault(_reactTextareaAutosize);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar RecipePage = function (_React$Component) {\\n  _inherits(RecipePage, _React$Component);\\n\\n  function RecipePage(props) {\\n    _classCallCheck(this, RecipePage);\\n\\n    var _this = _possibleConstructorReturn(this, (RecipePage.__proto__ || Object.getPrototypeOf(RecipePage)).call(this, props));\\n\\n    _this.state = {\\n      authUser: null,\\n      currentView: 1,\\n      views: { gridLayout: 1, listLayout: 2, createRecipe: 3, editRecipe: 4, viewRecipe: 5 },\\n      selectedRecipe: {},\\n      recipes: [],\\n      newRecipe: {\\n        name: \\\"\\\",\\n        description: \\\"\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"\\\",\\n        ingredients: []\\n      },\\n      creatingShoppingList: false,\\n      shoppingList: {\\n        shoppingListUsed: false,\\n        shoppingListIngredients: [],\\n        shoppingListExtras: []\\n      }\\n    };\\n    _this.onSubmit = _this.onSubmit.bind(_this);\\n    _this.createRecipe = _this.createRecipe.bind(_this);\\n    _this.recipeClicked = _this.recipeClicked.bind(_this);\\n    _this.editRecipe = _this.editRecipe.bind(_this);\\n    _this.gridLayout = _this.gridLayout.bind(_this);\\n    _this.listLayout = _this.listLayout.bind(_this);\\n    _this.createShoppingListClicked = _this.createShoppingListClicked.bind(_this);\\n    _this.addShoppingListExtras = _this.addShoppingListExtras.bind(_this);\\n    _this.logOutClicked = _this.logOutClicked.bind(_this);\\n    _this.saveShoppingList = _this.saveShoppingList.bind(_this);\\n    _this.createNewShoppingList = _this.createNewShoppingList.bind(_this);\\n    return _this;\\n  }\\n\\n  _createClass(RecipePage, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      var _this2 = this;\\n\\n      _firebase.auth.onAuthStateChanged(function (authUser) {\\n        authUser ? _this2.setState(function () {\\n          return { authUser: authUser };\\n        }) : _this2.setState(function () {\\n          return { authUser: null };\\n        });\\n      });\\n      this.getRecipes();\\n      this.getShoppingList();\\n    }\\n  }, {\\n    key: 'getRecipes',\\n    value: function getRecipes() {\\n      var _this3 = this;\\n\\n      _firebase.firestore.collection('Recipes').get().then(function (querySnapshot) {\\n        var recipes = querySnapshot.docs.map(function (doc) {\\n          var recipe = doc.data();\\n          recipe.id = doc.id;\\n          return recipe;\\n        });\\n        _this3.setState(function (prevState) {\\n          return {\\n            recipes: recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      });\\n    }\\n  }, {\\n    key: 'getShoppingList',\\n    value: function getShoppingList() {\\n      var _this4 = this;\\n\\n      _firebase.firestore.collection('ShoppingList').where(\\\"shoppingListUsed\\\", '==', false).get().then(function (querySnapshot) {\\n        if (querySnapshot.docs.length === 1) {\\n          var shoppingList = querySnapshot.docs[0].data();\\n          _this4.setState({\\n            shoppingList: shoppingList\\n          });\\n        } else {\\n          _this4.createNewShoppingList();\\n        }\\n      });\\n    }\\n  }, {\\n    key: 'createNewShoppingList',\\n    value: function createNewShoppingList() {\\n      var _this5 = this;\\n\\n      var dateCreated = new Date(),\\n          id = _IdCreator.IdCreator.createAutoId();\\n      var shoppingList = {\\n        id: id,\\n        dateCreated: dateCreated,\\n        shoppingListUsed: false,\\n        shoppingListIngredients: [],\\n        shoppingListExtras: []\\n      };\\n      _firebase.firestore.collection('ShoppingList').doc(shoppingList.id).set(shoppingList).then(function (docRef) {\\n        console.log(\\\"ShoppingListSaved saved successfully\\\");\\n        _this5.setState({\\n          shoppingList: shoppingList\\n        });\\n      }).catch(function (error) {\\n        return console.log(\\\"Error adding document: \\\", error);\\n      });\\n    }\\n  }, {\\n    key: 'saveShoppingList',\\n    value: function saveShoppingList() {\\n      var _this6 = this;\\n\\n      var shoppingList = this.state.shoppingList;\\n      if (shoppingList.id) {\\n        _firebase.firestore.collection('ShoppingList').doc(shoppingList.id).set(shoppingList).then(function () {\\n          console.log(\\\"ShoppingListSaved saved successfully\\\");\\n          _this6.getShoppingList();\\n        }).catch(function (error) {\\n          return console.log(\\\"Error adding document: \\\", error);\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'newShoppingList',\\n    value: function newShoppingList() {\\n      var shoppingList = this.state.shoppingList;\\n      shoppingList.shoppingListUsed = false;\\n      this.setState({\\n        shoppingList: shoppingList\\n      });\\n      this.saveShoppingList();\\n    }\\n  }, {\\n    key: 'createRecipe',\\n    value: function createRecipe() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.createRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'recipeClicked',\\n    value: function recipeClicked(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      if (this.state.creatingShoppingList) {\\n        debugger;\\n        var shoppingList = JSON.parse(JSON.stringify(this.state.shoppingList)),\\n            shoppingListIngredients = shoppingList.shoppingListIngredients,\\n            ingredients = JSON.parse(JSON.stringify(selectedRecipe.ingredients));;\\n\\n        if (shoppingListIngredients.length > 0) {\\n          var matchedIngredients = ingredients.filter(function (ingredient) {\\n            return shoppingListIngredients.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingListIngredients.forEach(function (listItem) {\\n            var matchedItem = matchedIngredients.find(function (x) {\\n              return listItem.name === x.name;\\n            });\\n            if (matchedItem) {\\n              listItem.amount = Number(listItem.amount) + Number(matchedItem.amount);\\n            }\\n          });\\n\\n          // let newItems = ingredients.filter((ingredient) => { return shoppingList.findIndex(ingredient.name) == -1; })\\n          var newItems = ingredients.filter(function (ingredient) {\\n            return !shoppingListIngredients.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingList.shoppingListIngredients = [].concat(_toConsumableArray(shoppingListIngredients), _toConsumableArray(newItems));\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: shoppingList\\n            };\\n          });\\n        } else {\\n          shoppingList.shoppingListIngredients = ingredients;\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: shoppingList\\n            };\\n          });\\n        }\\n      } else {\\n        this.setState(function (prevState) {\\n          return {\\n            currentView: prevState.views.viewRecipe,\\n            selectedRecipe: selectedRecipe\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'editRecipe',\\n    value: function editRecipe(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.editRecipe,\\n          selectedRecipe: selectedRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'onSubmit',\\n    value: function onSubmit(recipe) {\\n      var _this7 = this;\\n\\n      if (this.state.currentView === this.state.views.createRecipe) {\\n        var newRecipe = recipe,\\n            recipes = this.state.recipes.slice();\\n\\n        _firebase.firestore.collection('Recipes').doc().set(recipe).then(function (docRef) {\\n          console.log(\\\"Recipe saved successfully\\\");\\n          _this7.getRecipes();\\n        }).catch(function (error) {\\n          return console.log(\\\"Error adding document: \\\", error);\\n        });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        var editedRecipe = recipe,\\n            _recipes = this.state.recipes.slice(),\\n            currentIndex = _recipes.findIndex(function (recipe) {\\n          return recipe.id === editedRecipe.id;\\n        });\\n\\n        _recipes[currentIndex] = editedRecipe;\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: _recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'gridLayout',\\n    value: function gridLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.gridLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'listLayout',\\n    value: function listLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.listLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'createShoppingListClicked',\\n    value: function createShoppingListClicked() {\\n      this.setState(function (prev) {\\n        return {\\n          creatingShoppingList: prev.creatingShoppingList ? false : true\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'addShoppingListExtras',\\n    value: function addShoppingListExtras(shoppingListExtras) {\\n      if (shoppingListExtras) {\\n        var shoppingList = this.state.shoppingList;\\n        shoppingList.shoppingListExtras = shoppingListExtras;\\n      } else {\\n        return;\\n      }\\n    }\\n  }, {\\n    key: 'logOutClicked',\\n    value: function logOutClicked(e) {\\n      e.preventDefault();\\n      _firebase.auth.signOut();\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this8 = this;\\n\\n      var recipes,\\n          content,\\n          wrapper,\\n          nav = _react2.default.createElement(_nav.RecipeNav, {\\n        createRecipe: this.createRecipe,\\n        createShoppingList: this.createShoppingListClicked,\\n        gridLayout: this.gridLayout,\\n        listLayout: this.listLayout });\\n\\n      if (this.state.authUser) {\\n        if (this.state.currentView === this.state.views.gridLayout || this.state.currentView === this.state.views.listLayout) {\\n          recipes = this.state.recipes.map(function (recipe, index) {\\n            return _react2.default.createElement(_RecipeItem.RecipeItem, { onClick: _this8.recipeClicked, recipe: recipe, key: index });\\n          });\\n          content = _react2.default.createElement(\\n            'div',\\n            { id: this.state.currentView === this.state.views.gridLayout ? 'recipe-book-grid' : 'recipe-book-list' },\\n            recipes\\n          );\\n        } else if (this.state.currentView === this.state.views.createRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.newRecipe\\n            // newIngredientName={this.state.newIngredientName}\\n            , onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        } else if (this.state.currentView === this.state.views.viewRecipe) {\\n          content = _react2.default.createElement(_RecipeView.RecipeView, { recipe: this.state.selectedRecipe, onClick: this.editRecipe });\\n        } else if (this.state.currentView === this.state.views.editRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.selectedRecipe,\\n            newIngredientName: this.state.newIngredientName,\\n            onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        }\\n        if (this.state.creatingShoppingList) {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-flex-wrapper' },\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'shopping-wrapper' },\\n                _react2.default.createElement(_ShoppingList.ShoppingList, { shoppingList: this.state.shoppingList.shoppingListIngredients, shoppingListExtras: this.state.shoppingList.shoppingListExtras, onClick: this.addShoppingListExtras, onSave: this.saveShoppingList })\\n              ),\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'recipe-book-wrapper' },\\n                content\\n              )\\n            )\\n          );\\n        } else {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-wrapper' },\\n              ' ',\\n              content\\n            ),\\n            _react2.default.createElement(\\n              'div',\\n              { onClick: this.logOutClicked },\\n              'Log Out'\\n            )\\n          );\\n        }\\n      } else {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          _react2.default.createElement(_login.Login, null)\\n        );\\n      }\\n      return wrapper;\\n    }\\n  }]);\\n\\n  return RecipePage;\\n}(_react2.default.Component);\\n\\n{} /* <div class=\\\"max-600\\\">max-width: 600px</div>\\r\\n            <div class=\\\"min-600\\\">min-width: 600px</div>\\r\\n            <div class=\\\"min-768\\\">min-width: 768px</div>\\r\\n            <div class=\\\"min-992\\\">min-width: 992px</div>\\r\\n            <div class=\\\"min-1200\\\">min-width: 1200px</div>\\r\\n         </div> */\\n// ========================================\\n\\n_reactDom2.default.render(_react2.default.createElement(RecipePage, null), document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJwcm9wcyIsInN0YXRlIiwiYXV0aFVzZXIiLCJjdXJyZW50VmlldyIsInZpZXdzIiwiZ3JpZExheW91dCIsImxpc3RMYXlvdXQiLCJjcmVhdGVSZWNpcGUiLCJlZGl0UmVjaXBlIiwidmlld1JlY2lwZSIsInNlbGVjdGVkUmVjaXBlIiwicmVjaXBlcyIsIm5ld1JlY2lwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm5ld0luZ3JlZGllbnROYW1lIiwibWV0aG9kIiwiaW5ncmVkaWVudHMiLCJjcmVhdGluZ1Nob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdFVzZWQiLCJzaG9wcGluZ0xpc3RJbmdyZWRpZW50cyIsInNob3BwaW5nTGlzdEV4dHJhcyIsIm9uU3VibWl0IiwiYmluZCIsInJlY2lwZUNsaWNrZWQiLCJjcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkIiwiYWRkU2hvcHBpbmdMaXN0RXh0cmFzIiwibG9nT3V0Q2xpY2tlZCIsInNhdmVTaG9wcGluZ0xpc3QiLCJjcmVhdGVOZXdTaG9wcGluZ0xpc3QiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJzZXRTdGF0ZSIsImdldFJlY2lwZXMiLCJnZXRTaG9wcGluZ0xpc3QiLCJjb2xsZWN0aW9uIiwiZ2V0IiwidGhlbiIsInF1ZXJ5U25hcHNob3QiLCJkb2NzIiwibWFwIiwicmVjaXBlIiwiZG9jIiwiZGF0YSIsImlkIiwicHJldlN0YXRlIiwid2hlcmUiLCJsZW5ndGgiLCJkYXRlQ3JlYXRlZCIsIkRhdGUiLCJjcmVhdGVBdXRvSWQiLCJzZXQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsInJlY2lwZUlkIiwiZmluZCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm1hdGNoZWRJbmdyZWRpZW50cyIsImZpbHRlciIsInNvbWUiLCJsaXN0SXRlbSIsImluZ3JlZGllbnQiLCJmb3JFYWNoIiwibWF0Y2hlZEl0ZW0iLCJ4IiwiYW1vdW50IiwiTnVtYmVyIiwibmV3SXRlbXMiLCJzbGljZSIsImVkaXRlZFJlY2lwZSIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsInByZXYiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaWduT3V0IiwiY29udGVudCIsIndyYXBwZXIiLCJuYXYiLCJpbmRleCIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImFkZEluZ3JlZGllbnQiLCJpbmdyZWRpZW50T25EZWxldGUiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7OztJQUVNQSxVOzs7QUFDSixzQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLHdIQUNYQSxLQURXOztBQUVqQixVQUFLQyxLQUFMLEdBQWE7QUFDWEMsZ0JBQVUsSUFEQztBQUVYQyxtQkFBYSxDQUZGO0FBR1hDLGFBQU8sRUFBRUMsWUFBWSxDQUFkLEVBQWlCQyxZQUFZLENBQTdCLEVBQWdDQyxjQUFjLENBQTlDLEVBQWlEQyxZQUFZLENBQTdELEVBQWdFQyxZQUFZLENBQTVFLEVBSEk7QUFJWEMsc0JBQWdCLEVBSkw7QUFLWEMsZUFBUyxFQUxFO0FBTVhDLGlCQUFXO0FBQ1RDLGNBQU0sRUFERztBQUVUQyxxQkFBYSxFQUZKO0FBR1RDLDJCQUFtQixFQUhWO0FBSVRDLGdCQUFRLEVBSkM7QUFLVEMscUJBQWE7QUFMSixPQU5BO0FBYVhDLDRCQUFzQixLQWJYO0FBY1hDLG9CQUFjO0FBQ1pDLDBCQUFrQixLQUROO0FBRVpDLGlDQUF5QixFQUZiO0FBR1pDLDRCQUFvQjtBQUhSO0FBZEgsS0FBYjtBQW9CQSxVQUFLQyxRQUFMLEdBQWdCLE1BQUtBLFFBQUwsQ0FBY0MsSUFBZCxPQUFoQjtBQUNBLFVBQUtq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QUNFO0FBQUE7QUFBQSxrQkFBSyxXQUFVLGtCQUFmO0FBQ0UsNEVBQWMsY0FBYyxLQUFLakYsS0FBTCxDQUFXa0IsWUFBWCxDQUF3QkUsdUJBQXBELEVBQTZFLG9CQUFvQixLQUFLcEIsS0FBTCxDQUFXa0IsWUFBWCxDQUF3Qkcsa0JBQXpILEVBQTZJLFNBQVMsS0FBS0sscUJBQTNKLEVBQWtMLFFBQVEsS0FBS0UsZ0JBQS9MO0FBREYsZUFERjtBQUlFO0FBQUE7QUFBQSxrQkFBSyxXQUFVLHFCQUFmO0FBQ0dtRDtBQURIO0FBSkY7QUFGRixXQURGO0FBWUQsU0FiRCxNQWFPO0FBQ0xDLG9CQUNFO0FBQUE7QUFBQTtBQUNHQyxlQURIO0FBRUU7QUFBQTtBQUFBLGdCQUFLLFdBQVUsY0FBZjtBQUFBO0FBQWdDRjtBQUFoQyxhQUZGO0FBR0U7QUFBQTtBQUFBLGdCQUFLLFNBQVMsS0FBS3BELGFBQW5CO0FBQUE7QUFBQTtBQUhGLFdBREY7QUFNRDtBQUNGLE9BakRELE1BaURPO0FBQ0xxRCxrQkFDRTtBQUFBO0FBQUE7QUFDRTtBQURGLFNBREY7QUFJRDtBQUNELGFBQ0VBLE9BREY7QUFHRDs7OztFQS9Sc0IsZ0JBQU1NLFM7O0FBa1MvQixDQUtpQixDLENBTGhCOzs7Ozs7QUFNRDs7QUFFQSxtQkFBU0MsTUFBVCxDQUFnQiw4QkFBQyxVQUFELE9BQWhCLEVBQ0VDLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsQ0FERiIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSwgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyByZWNpcGVEQiB9IGZyb20gJy4vZmlyZWJhc2UuanN4JztcclxuaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyBJZENyZWF0b3IgfSBmcm9tICcuL0lkQ3JlYXRvci5qcyc7XHJcbmltcG9ydCB7IFJlY2lwZUl0ZW0gfSBmcm9tICcuL1JlY2lwZUl0ZW0uanN4JztcclxuaW1wb3J0IHsgUmVjaXBlRm9ybSB9IGZyb20gJy4vUmVjaXBlRm9ybS5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVWaWV3IH0gZnJvbSAnLi9SZWNpcGVWaWV3LmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZU5hdiB9IGZyb20gJy4vbmF2LmpzeCc7XHJcbmltcG9ydCB7IFNob3BwaW5nTGlzdCB9IGZyb20gJy4vU2hvcHBpbmdMaXN0LmpzeCc7XHJcbmltcG9ydCB7IExvZ2luIH0gZnJvbSAnLi9sb2dpbi5qc3gnO1xyXG5pbXBvcnQgVGV4dGFyZWEgZnJvbSBcInJlYWN0LXRleHRhcmVhLWF1dG9zaXplXCI7XHJcblxyXG5jbGFzcyBSZWNpcGVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXV0aFVzZXI6IG51bGwsXHJcbiAgICAgIGN1cnJlbnRWaWV3OiAxLFxyXG4gICAgICB2aWV3czogeyBncmlkTGF5b3V0OiAxLCBsaXN0TGF5b3V0OiAyLCBjcmVhdGVSZWNpcGU6IDMsIGVkaXRSZWNpcGU6IDQsIHZpZXdSZWNpcGU6IDUgfSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHt9LFxyXG4gICAgICByZWNpcGVzOiBbXSxcclxuICAgICAgbmV3UmVjaXBlOiB7XHJcbiAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICBtZXRob2Q6IFwiXCIsXHJcbiAgICAgICAgaW5ncmVkaWVudHM6IFtdXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0OiB7XHJcbiAgICAgICAgc2hvcHBpbmdMaXN0VXNlZDogZmFsc2UsXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHM6IFtdLFxyXG4gICAgICAgIHNob3BwaW5nTGlzdEV4dHJhczogW11cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlUmVjaXBlID0gdGhpcy5jcmVhdGVSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucmVjaXBlQ2xpY2tlZCA9IHRoaXMucmVjaXBlQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lZGl0UmVjaXBlID0gdGhpcy5lZGl0UmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdyaWRMYXlvdXQgPSB0aGlzLmdyaWRMYXlvdXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMubGlzdExheW91dCA9IHRoaXMubGlzdExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcyA9IHRoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxvZ091dENsaWNrZWQgPSB0aGlzLmxvZ091dENsaWNrZWQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuc2F2ZVNob3BwaW5nTGlzdCA9IHRoaXMuc2F2ZVNob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVOZXdTaG9wcGluZ0xpc3QgPSB0aGlzLmNyZWF0ZU5ld1Nob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGF1dGhVc2VyID0+IHtcclxuICAgICAgYXV0aFVzZXJcclxuICAgICAgICA/IHRoaXMuc2V0U3RhdGUoKCkgPT4gKHsgYXV0aFVzZXIgfSkpXHJcbiAgICAgICAgOiB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGF1dGhVc2VyOiBudWxsIH0pKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5nZXRSZWNpcGVzKCk7XHJcbiAgICB0aGlzLmdldFNob3BwaW5nTGlzdCgpO1xyXG4gIH1cclxuICBnZXRSZWNpcGVzKCkge1xyXG4gICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1JlY2lwZXMnKS5nZXQoKS50aGVuKHF1ZXJ5U25hcHNob3QgPT4ge1xyXG4gICAgICBsZXQgcmVjaXBlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcclxuICAgICAgICBsZXQgcmVjaXBlID0gZG9jLmRhdGEoKTtcclxuICAgICAgICByZWNpcGUuaWQgPSBkb2MuaWQ7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICByZWNpcGVzOiByZWNpcGVzLFxyXG4gICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgICB9XHJcbiAgICAgICkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGdldFNob3BwaW5nTGlzdCgpIHtcclxuICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdTaG9wcGluZ0xpc3QnKS53aGVyZShcInNob3BwaW5nTGlzdFVzZWRcIiwgJz09JywgZmFsc2UpLmdldCgpLnRoZW4ocXVlcnlTbmFwc2hvdCA9PiB7XHJcbiAgICAgIGlmIChxdWVyeVNuYXBzaG90LmRvY3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgbGV0IHNob3BwaW5nTGlzdCA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5kYXRhKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlTmV3U2hvcHBpbmdMaXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBjcmVhdGVOZXdTaG9wcGluZ0xpc3QoKSB7XHJcbiAgICBjb25zdCBkYXRlQ3JlYXRlZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBpZCA9IElkQ3JlYXRvci5jcmVhdGVBdXRvSWQoKTtcclxuICAgIGxldCBzaG9wcGluZ0xpc3QgPSB7XHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgZGF0ZUNyZWF0ZWQ6IGRhdGVDcmVhdGVkLFxyXG4gICAgICBzaG9wcGluZ0xpc3RVc2VkOiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHM6IFtdLFxyXG4gICAgICBzaG9wcGluZ0xpc3RFeHRyYXM6IFtdXHJcbiAgICB9XHJcbiAgICBmaXJlc3RvcmUuY29sbGVjdGlvbignU2hvcHBpbmdMaXN0JykuZG9jKHNob3BwaW5nTGlzdC5pZCkuc2V0KHNob3BwaW5nTGlzdClcclxuICAgICAgLnRoZW4oZG9jUmVmID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNob3BwaW5nTGlzdFNhdmVkIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNob3BwaW5nTGlzdDogc2hvcHBpbmdMaXN0XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKFwiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiBcIiwgZXJyb3IpKTtcclxuICB9XHJcbiAgc2F2ZVNob3BwaW5nTGlzdCgpIHtcclxuICAgIGNvbnN0IHNob3BwaW5nTGlzdCA9IHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0O1xyXG4gICAgaWYgKHNob3BwaW5nTGlzdC5pZCkge1xyXG4gICAgICBmaXJlc3RvcmUuY29sbGVjdGlvbignU2hvcHBpbmdMaXN0JykuZG9jKHNob3BwaW5nTGlzdC5pZCkuc2V0KHNob3BwaW5nTGlzdClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2hvcHBpbmdMaXN0U2F2ZWQgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIHRoaXMuZ2V0U2hvcHBpbmdMaXN0KCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhcIkVycm9yIGFkZGluZyBkb2N1bWVudDogXCIsIGVycm9yKSk7XHJcbiAgICB9IFxyXG4gIH1cclxuICBuZXdTaG9wcGluZ0xpc3QoKXtcclxuICAgbGV0IHNob3BwaW5nTGlzdCA9ICB0aGlzLnN0YXRlLnNob3BwaW5nTGlzdDtcclxuICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdFVzZWQgPSBmYWxzZTtcclxuICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgc2hvcHBpbmdMaXN0OnNob3BwaW5nTGlzdFxyXG4gICB9KTtcclxuICAgdGhpcy5zYXZlU2hvcHBpbmdMaXN0KCk7XHJcbiAgfVxyXG4gIGNyZWF0ZVJlY2lwZSgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGVcclxuICAgIH0pKTtcclxuICB9XHJcbiAgcmVjaXBlQ2xpY2tlZChyZWNpcGVJZCkge1xyXG4gICAgdmFyIHNlbGVjdGVkUmVjaXBlID0gdGhpcy5zdGF0ZS5yZWNpcGVzLmZpbmQoKHJlY2lwZSkgPT4geyByZXR1cm4gcmVjaXBlLmlkID09PSByZWNpcGVJZDsgfSk7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jcmVhdGluZ1Nob3BwaW5nTGlzdCkge1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgbGV0IHNob3BwaW5nTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3QpKSxcclxuICAgICAgICBzaG9wcGluZ0xpc3RJbmdyZWRpZW50cyA9IHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RJbmdyZWRpZW50cyxcclxuICAgICAgICBpbmdyZWRpZW50cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2VsZWN0ZWRSZWNpcGUuaW5ncmVkaWVudHMpKTs7XHJcblxyXG4gICAgICBpZiAoc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCBtYXRjaGVkSW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cy5maWx0ZXIoaW5ncmVkaWVudCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMuc29tZShsaXN0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5uYW1lID09PSBpbmdyZWRpZW50Lm5hbWU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzaG9wcGluZ0xpc3RJbmdyZWRpZW50cy5mb3JFYWNoKGxpc3RJdGVtID0+IHtcclxuICAgICAgICAgIHZhciBtYXRjaGVkSXRlbSA9IG1hdGNoZWRJbmdyZWRpZW50cy5maW5kKHggPT4gbGlzdEl0ZW0ubmFtZSA9PT0geC5uYW1lKTtcclxuICAgICAgICAgIGlmIChtYXRjaGVkSXRlbSkge1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5hbW91bnQgPSBOdW1iZXIobGlzdEl0ZW0uYW1vdW50KSArIE51bWJlcihtYXRjaGVkSXRlbS5hbW91bnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsZXQgbmV3SXRlbXMgPSBpbmdyZWRpZW50cy5maWx0ZXIoKGluZ3JlZGllbnQpID0+IHsgcmV0dXJuIHNob3BwaW5nTGlzdC5maW5kSW5kZXgoaW5ncmVkaWVudC5uYW1lKSA9PSAtMTsgfSlcclxuICAgICAgICBjb25zdCBuZXdJdGVtcyA9IGluZ3JlZGllbnRzLmZpbHRlcihpbmdyZWRpZW50ID0+IHtcclxuICAgICAgICAgIHJldHVybiAhc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMuc29tZShsaXN0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5uYW1lID09PSBpbmdyZWRpZW50Lm5hbWU7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMgPSBbLi4uc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMsIC4uLm5ld0l0ZW1zXTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLnZpZXdSZWNpcGUsXHJcbiAgICAgICAgc2VsZWN0ZWRSZWNpcGU6IHNlbGVjdGVkUmVjaXBlXHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICB9XHJcbiAgZWRpdFJlY2lwZShyZWNpcGVJZCkge1xyXG4gICAgdmFyIHNlbGVjdGVkUmVjaXBlID0gdGhpcy5zdGF0ZS5yZWNpcGVzLmZpbmQoKHJlY2lwZSkgPT4geyByZXR1cm4gcmVjaXBlLmlkID09PSByZWNpcGVJZCB9KTtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5lZGl0UmVjaXBlLFxyXG4gICAgICBzZWxlY3RlZFJlY2lwZTogc2VsZWN0ZWRSZWNpcGVcclxuICAgIH0pKTtcclxuICB9XHJcbiAgb25TdWJtaXQocmVjaXBlKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGUpIHtcclxuICAgICAgbGV0IG5ld1JlY2lwZSA9IHJlY2lwZSxcclxuICAgICAgICByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLnNsaWNlKCk7XHJcblxyXG4gICAgICBmaXJlc3RvcmUuY29sbGVjdGlvbignUmVjaXBlcycpLmRvYygpLnNldChyZWNpcGUpXHJcbiAgICAgICAgLnRoZW4oZG9jUmVmID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVjaXBlIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgIHRoaXMuZ2V0UmVjaXBlcygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKFwiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiBcIiwgZXJyb3IpKTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZWRpdFJlY2lwZSkge1xyXG4gICAgICBsZXQgZWRpdGVkUmVjaXBlID0gcmVjaXBlLFxyXG4gICAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMuc2xpY2UoKSxcclxuICAgICAgICBjdXJyZW50SW5kZXggPSByZWNpcGVzLmZpbmRJbmRleCgocmVjaXBlKSA9PiB7IHJldHVybiByZWNpcGUuaWQgPT09IGVkaXRlZFJlY2lwZS5pZCB9KTtcclxuXHJcbiAgICAgIHJlY2lwZXNbY3VycmVudEluZGV4XSA9IGVkaXRlZFJlY2lwZTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgIHJlY2lwZXM6IHJlY2lwZXMsXHJcbiAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5ncmlkTGF5b3V0XHJcbiAgICAgIH1cclxuICAgICAgKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdyaWRMYXlvdXQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBsaXN0TGF5b3V0KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmxpc3RMYXlvdXRcclxuICAgIH0pKTtcclxuICB9XHJcbiAgY3JlYXRlU2hvcHBpbmdMaXN0Q2xpY2tlZCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXYpID0+ICh7XHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBwcmV2LmNyZWF0aW5nU2hvcHBpbmdMaXN0ID8gZmFsc2UgOiB0cnVlXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYWRkU2hvcHBpbmdMaXN0RXh0cmFzKHNob3BwaW5nTGlzdEV4dHJhcykge1xyXG4gICAgaWYgKHNob3BwaW5nTGlzdEV4dHJhcykge1xyXG4gICAgICBsZXQgc2hvcHBpbmdMaXN0ID0gdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3Q7XHJcbiAgICAgIHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXMgPSBzaG9wcGluZ0xpc3RFeHRyYXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG4gIGxvZ091dENsaWNrZWQoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYXV0aC5zaWduT3V0KCk7XHJcbiAgfVxyXG4gIHJlbmRlcigpIHtcclxuICAgIHZhciByZWNpcGVzLFxyXG4gICAgICBjb250ZW50LFxyXG4gICAgICB3cmFwcGVyLFxyXG4gICAgICBuYXYgPSA8UmVjaXBlTmF2XHJcbiAgICAgICAgY3JlYXRlUmVjaXBlPXt0aGlzLmNyZWF0ZVJlY2lwZX1cclxuICAgICAgICBjcmVhdGVTaG9wcGluZ0xpc3Q9e3RoaXMuY3JlYXRlU2hvcHBpbmdMaXN0Q2xpY2tlZH1cclxuICAgICAgICBncmlkTGF5b3V0PXt0aGlzLmdyaWRMYXlvdXR9XHJcbiAgICAgICAgbGlzdExheW91dD17dGhpcy5saXN0TGF5b3V0fSAvPjtcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hdXRoVXNlcikge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5ncmlkTGF5b3V0IHx8IHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MubGlzdExheW91dCkge1xyXG4gICAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMubWFwKChyZWNpcGUsIGluZGV4KSA9PlxyXG4gICAgICAgICAgPFJlY2lwZUl0ZW0gb25DbGljaz17dGhpcy5yZWNpcGVDbGlja2VkfSByZWNpcGU9e3JlY2lwZX0ga2V5PXtpbmRleH0gLz4sXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZW50ID0gPGRpdiBpZD17dGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5ncmlkTGF5b3V0ID8gJ3JlY2lwZS1ib29rLWdyaWQnIDogJ3JlY2lwZS1ib29rLWxpc3QnfT5cclxuICAgICAgICAgIHtyZWNpcGVzfVxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmNyZWF0ZVJlY2lwZSkge1xyXG4gICAgICAgIGNvbnRlbnQgPSA8UmVjaXBlRm9ybSByZWNpcGU9e3RoaXMuc3RhdGUubmV3UmVjaXBlfVxyXG4gICAgICAgICAgLy8gbmV3SW5ncmVkaWVudE5hbWU9e3RoaXMuc3RhdGUubmV3SW5ncmVkaWVudE5hbWV9XHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEluZ3JlZGllbnR9XHJcbiAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5pbmdyZWRpZW50T25EZWxldGV9XHJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy52aWV3UmVjaXBlKSB7XHJcbiAgICAgICAgY29udGVudCA9IDxSZWNpcGVWaWV3IHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX0gb25DbGljaz17dGhpcy5lZGl0UmVjaXBlfSAvPjtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmVkaXRSZWNpcGUpIHtcclxuICAgICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLnNlbGVjdGVkUmVjaXBlfVxyXG4gICAgICAgICAgbmV3SW5ncmVkaWVudE5hbWU9e3RoaXMuc3RhdGUubmV3SW5ncmVkaWVudE5hbWV9XHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEluZ3JlZGllbnR9XHJcbiAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5pbmdyZWRpZW50T25EZWxldGV9XHJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3JlYXRpbmdTaG9wcGluZ0xpc3QpIHtcclxuICAgICAgICB3cmFwcGVyID1cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi1mbGV4LXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNob3BwaW5nLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxTaG9wcGluZ0xpc3Qgc2hvcHBpbmdMaXN0PXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RJbmdyZWRpZW50c30gc2hvcHBpbmdMaXN0RXh0cmFzPXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXN9IG9uQ2xpY2s9e3RoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzfSBvblNhdmU9e3RoaXMuc2F2ZVNob3BwaW5nTGlzdH0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlY2lwZS1ib29rLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIHtjb250ZW50fVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdyYXBwZXIgPVxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAge25hdn1cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLXdyYXBwZXJcIj4ge2NvbnRlbnR9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5sb2dPdXRDbGlja2VkfT5Mb2cgT3V0PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxMb2dpbiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgd3JhcHBlclxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbnsvKiA8ZGl2IGNsYXNzPVwibWF4LTYwMFwiPm1heC13aWR0aDogNjAwcHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tNjAwXCI+bWluLXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi03NjhcIj5taW4td2lkdGg6IDc2OHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTk5MlwiPm1pbi13aWR0aDogOTkycHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tMTIwMFwiPm1pbi13aWR0aDogMTIwMHB4PC9kaXY+XHJcbiAgICAgICA8L2Rpdj4gKi99XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblJlYWN0RE9NLnJlbmRlcig8UmVjaXBlUGFnZSAvPixcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXHJcbik7Il0sInNvdXJjZVJvb3QiOiIifQ==\\n//# sourceURL=webpack-internal:///60\\n\")}});","extractedComments":[]}