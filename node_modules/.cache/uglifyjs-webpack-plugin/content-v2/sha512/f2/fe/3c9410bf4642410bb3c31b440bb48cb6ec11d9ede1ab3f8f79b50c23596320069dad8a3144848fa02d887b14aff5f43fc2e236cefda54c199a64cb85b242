{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{34:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(0);\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactDom = __webpack_require__(32);\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nvar _RecipeItem = __webpack_require__(22);\\n\\nvar _RecipeForm = __webpack_require__(18);\\n\\nvar _RecipeView = __webpack_require__(13);\\n\\nvar _nav = __webpack_require__(64);\\n\\nvar _ShoppingList = __webpack_require__(12);\\n\\nvar _reactTextareaAutosize = __webpack_require__(6);\\n\\nvar _reactTextareaAutosize2 = _interopRequireDefault(_reactTextareaAutosize);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar RecipePage = function (_React$Component) {\\n  _inherits(RecipePage, _React$Component);\\n\\n  function RecipePage(props) {\\n    _classCallCheck(this, RecipePage);\\n\\n    var _this = _possibleConstructorReturn(this, (RecipePage.__proto__ || Object.getPrototypeOf(RecipePage)).call(this, props));\\n\\n    _this.state = {\\n      currentView: 1,\\n      views: { gridLayout: 1, listLayout: 2, createRecipe: 3, editRecipe: 4, viewRecipe: 5 },\\n      selectedRecipe: {},\\n      recipes: [{\\n        id: 1,\\n        name: \\\"Cheese cake\\\",\\n        description: \\\"Cheese based cake\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Cheese',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Cake',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }, {\\n        id: 2,\\n        name: \\\"Banana bread\\\",\\n        description: \\\"Banana based bread\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Banana',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Bread',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }, {\\n        id: 3,\\n        name: \\\"Key lime pie\\\",\\n        description: \\\"Key based pie\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Key',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Lime',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }],\\n      newRecipe: {\\n        id: 0,\\n        name: \\\"\\\",\\n        description: \\\"\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"\\\",\\n        ingredients: []\\n      },\\n      creatingShoppingList: false,\\n      shoppingList: [],\\n      shoppingListExtras: []\\n    };\\n    _this.onSubmit = _this.onSubmit.bind(_this);\\n    _this.createRecipe = _this.createRecipe.bind(_this);\\n    _this.recipeClicked = _this.recipeClicked.bind(_this);\\n    _this.editRecipe = _this.editRecipe.bind(_this);\\n    _this.gridLayout = _this.gridLayout.bind(_this);\\n    _this.listLayout = _this.listLayout.bind(_this);\\n    _this.createShoppingListClicked = _this.createShoppingListClicked.bind(_this);\\n    _this.addShoppingListExtras = _this.addShoppingListExtras.bind(_this);\\n    return _this;\\n  }\\n\\n  _createClass(RecipePage, [{\\n    key: 'createRecipe',\\n    value: function createRecipe() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.createRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'recipeClicked',\\n    value: function recipeClicked(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n\\n      if (this.state.creatingShoppingList) {\\n        var shoppingList = JSON.parse(JSON.stringify(this.state.shoppingList)),\\n            ingredients = JSON.parse(JSON.stringify(selectedRecipe.ingredients));;\\n\\n        if (shoppingList.length > 0) {\\n          var matchedIngredients = ingredients.filter(function (ingredient) {\\n            return shoppingList.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingList.forEach(function (listItem) {\\n            var matchedItem = matchedIngredients.find(function (x) {\\n              return listItem.name === x.name;\\n            });\\n            if (matchedItem) {\\n              listItem.amount += matchedItem.amount;\\n            }\\n          });\\n\\n          // let newItems = ingredients.filter((ingredient) => { return shoppingList.findIndex(ingredient.name) == -1; })\\n          var newItems = ingredients.filter(function (ingredient) {\\n            return !shoppingList.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: [].concat(_toConsumableArray(shoppingList), _toConsumableArray(newItems))\\n            };\\n          });\\n        } else {\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: ingredients\\n            };\\n          });\\n        }\\n      } else {\\n        this.setState(function (prevState) {\\n          return {\\n            currentView: prevState.views.viewRecipe,\\n            selectedRecipe: selectedRecipe\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'editRecipe',\\n    value: function editRecipe(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.editRecipe,\\n          selectedRecipe: selectedRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'onSubmit',\\n    value: function onSubmit(recipe) {\\n      if (this.state.currentView === this.state.views.createRecipe) {\\n        var newRecipe = recipe,\\n            recipes = this.state.recipes.slice();\\n        newRecipe.id = recipes.length + 1;\\n\\n        recipes.push(newRecipe);\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        var editedRecipe = recipe,\\n            _recipes = this.state.recipes.slice(),\\n            currentIndex = _recipes.findIndex(function (recipe) {\\n          return recipe.id === editedRecipe.id;\\n        });\\n\\n        _recipes[currentIndex] = editedRecipe;\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: _recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'gridLayout',\\n    value: function gridLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.gridLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'listLayout',\\n    value: function listLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.listLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'createShoppingListClicked',\\n    value: function createShoppingListClicked() {\\n      this.setState(function (prev) {\\n        return {\\n          creatingShoppingList: prev.creatingShoppingList ? false : true\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'addShoppingListExtras',\\n    value: function addShoppingListExtras(shoppingListExtras) {\\n      if (shoppingListExtras) {\\n        this.setState({\\n          shoppingListExtras: shoppingListExtras\\n        });\\n      } else {\\n        return;\\n      }\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this2 = this;\\n\\n      var recipes,\\n          content,\\n          wrapper,\\n          nav = _react2.default.createElement(_nav.RecipeNav, {\\n        createRecipe: this.createRecipe,\\n        createShoppingList: this.createShoppingListClicked,\\n        gridLayout: this.gridLayout,\\n        listLayout: this.listLayout });\\n\\n      if (this.state.currentView === this.state.views.gridLayout || this.state.currentView === this.state.views.listLayout) {\\n        recipes = this.state.recipes.map(function (recipe, index) {\\n          return _react2.default.createElement(_RecipeItem.RecipeItem, { onClick: _this2.recipeClicked, recipe: recipe, key: index });\\n        });\\n        content = _react2.default.createElement(\\n          'div',\\n          { id: this.state.currentView === this.state.views.gridLayout ? 'recipe-book-grid' : 'recipe-book-list' },\\n          recipes\\n        );\\n      } else if (this.state.currentView === this.state.views.createRecipe) {\\n        content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.newRecipe\\n          // newIngredientName={this.state.newIngredientName}\\n          , onChange: this.handleInputChanged,\\n          onClick: this.addIngredient,\\n          onDelete: this.ingredientOnDelete,\\n          onSubmit: this.onSubmit });\\n      } else if (this.state.currentView === this.state.views.viewRecipe) {\\n        content = _react2.default.createElement(_RecipeView.RecipeView, { recipe: this.state.selectedRecipe, onClick: this.editRecipe });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.selectedRecipe,\\n          newIngredientName: this.state.newIngredientName,\\n          onChange: this.handleInputChanged,\\n          onClick: this.addIngredient,\\n          onDelete: this.ingredientOnDelete,\\n          onSubmit: this.onSubmit });\\n      }\\n\\n      if (this.state.creatingShoppingList) {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          nav,\\n          _react2.default.createElement(\\n            'div',\\n            { className: 'main-flex-wrapper' },\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'shopping-wrapper' },\\n              _react2.default.createElement(_ShoppingList.ShoppingList, { shoppingList: this.state.shoppingList, shoppingListExtras: this.state.shoppingListExtras, onClick: this.addShoppingListExtras })\\n            ),\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'recipe-book-wrapper' },\\n              content\\n            )\\n          )\\n        );\\n      } else {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          nav,\\n          _react2.default.createElement(\\n            'div',\\n            { className: 'main-wrapper' },\\n            ' ',\\n            content\\n          )\\n        );\\n      }\\n      return wrapper;\\n    }\\n  }]);\\n\\n  return RecipePage;\\n}(_react2.default.Component);\\n\\n{} /* <div class=\\\"max-600\\\">max-width: 600px</div>\\r\\n            <div class=\\\"min-600\\\">min-width: 600px</div>\\r\\n            <div class=\\\"min-768\\\">min-width: 768px</div>\\r\\n            <div class=\\\"min-992\\\">min-width: 992px</div>\\r\\n            <div class=\\\"min-1200\\\">min-width: 1200px</div>\\r\\n         </div> */\\n// ========================================\\n\\n_reactDom2.default.render(_react2.default.createElement(RecipePage, null), document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJwcm9wcyIsInN0YXRlIiwiY3VycmVudFZpZXciLCJ2aWV3cyIsImdyaWRMYXlvdXQiLCJsaXN0TGF5b3V0IiwiY3JlYXRlUmVjaXBlIiwiZWRpdFJlY2lwZSIsInZpZXdSZWNpcGUiLCJzZWxlY3RlZFJlY2lwZSIsInJlY2lwZXMiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm1ldGhvZCIsImluZ3JlZGllbnRzIiwiYW1vdW50IiwidW5pdE9mTWVhc3VyZW1lbnQiLCJuZXdJbmdyZWRpZW50TmFtZSIsIm5ld1JlY2lwZSIsImNyZWF0aW5nU2hvcHBpbmdMaXN0Iiwic2hvcHBpbmdMaXN0Iiwic2hvcHBpbmdMaXN0RXh0cmFzIiwib25TdWJtaXQiLCJiaW5kIiwicmVjaXBlQ2xpY2tlZCIsImNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWQiLCJhZGRTaG9wcGluZ0xpc3RFeHRyYXMiLCJzZXRTdGF0ZSIsInByZXZTdGF0ZSIsInJlY2lwZUlkIiwiZmluZCIsInJlY2lwZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImxlbmd0aCIsIm1hdGNoZWRJbmdyZWRpZW50cyIsImZpbHRlciIsInNvbWUiLCJsaXN0SXRlbSIsImluZ3JlZGllbnQiLCJmb3JFYWNoIiwibWF0Y2hlZEl0ZW0iLCJ4IiwibmV3SXRlbXMiLCJzbGljZSIsInB1c2giLCJlZGl0ZWRSZWNpcGUiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJwcmV2IiwiY29udGVudCIsIndyYXBwZXIiLCJuYXYiLCJtYXAiLCJpbmRleCIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImFkZEluZ3JlZGllbnQiLCJpbmdyZWRpZW50T25EZWxldGUiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7OztJQUVNQSxVOzs7QUFDSixzQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLHdIQUNYQSxLQURXOztBQUVqQixVQUFLQyxLQUFMLEdBQWE7QUFDWEMsbUJBQWEsQ0FERjtBQUVYQyxhQUFPLEVBQUVDLFlBQVksQ0FBZCxFQUFpQkMsWUFBWSxDQUE3QixFQUFnQ0MsY0FBYyxDQUE5QyxFQUFpREMsWUFBWSxDQUE3RCxFQUFnRUMsWUFBWSxDQUE1RSxFQUZJO0FBR1hDLHNCQUFnQixFQUhMO0FBSVhDLGVBQVMsQ0FDUDtBQUNFQyxZQUFJLENBRE47QUFFRUMsY0FBTSxhQUZSO0FBR0VDLHFCQUFhLG1CQUhmO0FBSUVDLGdCQUFRLHlCQUpWO0FBS0VDLHFCQUFhLENBQ1g7QUFDRUgsZ0JBQU0sUUFEUjtBQUVFSSxrQkFBUSxHQUZWO0FBR0VDLDZCQUFtQjtBQUhyQixTQURXLEVBTVg7QUFDRUwsZ0JBQU0sTUFEUjtBQUVFSSxrQkFBUSxDQUZWO0FBR0VDLDZCQUFtQjtBQUhyQixTQU5XO0FBTGYsT0FETyxFQWtCUDtBQUNFTixZQUFJLENBRE47QUFFRUMsY0FBTSxjQUZSO0FBR0VDLHFCQUFhLG9CQUhmO0FBSUVLLDJCQUFtQixFQUpyQjtBQUtFSixnQkFBUSx5QkFMVjtBQU1FQyxxQkFBYSxDQUNYO0FBQ0VILGdCQUFNLFFBRFI7QUFFRUksa0JBQVEsR0FGVjtBQUdFQyw2QkFBbUI7QUFIckIsU0FEVyxFQU1YO0FBQ0VMLGdCQUFNLE9BRFI7QUFFRUksa0JBQVEsQ0FGVjtBQUdFQyw2QkFBbUI7QUFIckIsU0FOVztBQU5mLE9BbEJPLEVBb0NQO0FBQ0VOLFlBQUksQ0FETjtBQUVFQyxjQUFNLGNBRlI7QUFHRUMscUJBQWEsZUFIZjtBQUlFSywyQkFBbUIsRUFKckI7QUFLRUosZ0JBQVEseUJBTFY7QUFNRUMscUJBQWEsQ0FDWDtBQUNFSCxnQkFBTSxLQURSO0FBRUVJLGtCQUFRLEdBRlY7QUFHRUMsNkJBQW1CO0FBSHJCLFNBRFcsRUFNWDtBQUNFTCxnQkFBTSxNQURSO0FBRUVJLGtCQUFRLENBRlY7QUFHRUMsNkJBQW1CO0FBSHJCLFNBTlc7QUFOZixPQXBDTyxDQUpFO0FBMkRYRSxpQkFBVztBQUNUUixZQUFJLENBREs7QUFFVEMsY0FBTSxFQUZHO0FBR1RDLHFCQUFhLEVBSEo7QUFJVEssMkJBQW1CLEVBSlY7QUFLVEosZ0JBQVEsRUFMQztBQU1UQyxxQkFBYTtBQU5KLE9BM0RBO0FBbUVYSyw0QkFBc0IsS0FuRVg7QUFvRVhDLG9CQUFjLEVBcEVIO0FBcUVYQywwQkFBbUI7QUFyRVIsS0FBYjtBQXVFQSxVQUFLQyxRQUFMLEdBQWdCLE1BQUtBLFFBQUwsQ0FBY0MsSUFBZCxPQUFoQjtBQUNBLFVBQUtsQixZQUFMLEdBQW9CLE1BQUtBLFlBQUwsQ0FBa0JrQixJQUFsQixPQUFwQjtBQUNBLFVBQUtDLGFBQUwsR0FBcUIsTUFBS0EsYUFBTCxDQUFtQkQsSUFBbkIsT0FBckI7QUFDQSxVQUFLakIsVUFBTCxHQUFrQixNQUFLQSxVQUFMLENBQWdCaUIsSUFBaEIsT0FBbEI7QUFDQSxVQUFLcEIsVUFBTCxHQUFrQixNQUFLQSxVQUFMLENBQWdCb0IsSUFBaEIsT0FBbEI7QUFDQSxVQUFLbkIsVUFBTCxHQUFrQixNQUFLQSxVQUFMLENBQWdCbUIsSUFBaEIsT0FBbEI7QUFDQSxVQUFLRSx5QkFBTCxHQUFpQyxNQUFLQSx5QkFBTCxDQUErQkYsSUFBL0IsT0FBakM7QUFDQSxVQUFLRyxxQkFBTCxHQUE4QixNQUFLQSxxQkFBTCxDQUEyQkgsSUFBM0IsT0FBOUI7QUFoRmlCO0FBaUZsQjs7OzttQ0FDYztBQUNiLFdBQUtJLFFBQUwsQ0FBYyxVQUFDQyxTQUFEO0FBQUEsZUFBZ0I7QUFDNUIzQix1QkFBYTJCLFVBQVUxQixLQUFWLENBQWdCRztBQURELFNBQWhCO0FBQUEsT0FBZDtBQUdEOzs7a0NBQ2F3QixRLEVBQVU7QUFDdEIsVUFBSXJCLGlCQUFpQixLQUFLUixLQUFMLENBQVdTLE9BQVgsQ0FBbUJxQixJQUFuQixDQUF3QixVQUFDQyxNQUFELEVBQVk7QUFBRSxlQUFPQSxPQUFPckIsRUFBUCxLQUFjbUIsUUFBckI7QUFBZ0MsT0FBdEUsQ0FBckI7O0FBRUEsVUFBRyxLQUFLN0IsS0FBTCxDQUFXbUIsb0JBQWQsRUFBb0M7QUFDbEMsWUFBSUMsZUFBZ0JZLEtBQUtDLEtBQUwsQ0FBV0QsS0FBS0UsU0FBTCxDQUFnQixLQUFLbEMsS0FBTCxDQUFXb0IsWUFBM0IsQ0FBWCxDQUFwQjtBQUFBLFlBQ0FOLGNBQWNrQixLQUFLQyxLQUFMLENBQVdELEtBQUtFLFNBQUwsQ0FBZ0IxQixlQUFlTSxXQUEvQixDQUFYLENBRGQsQ0FDdUU7O0FBRXZFLFlBQUdNLGFBQWFlLE1BQWIsR0FBc0IsQ0FBekIsRUFBMkI7QUFDM0IsY0FBSUMscUJBQXFCdEIsWUFBWXVCLE1BQVosQ0FBbUIsc0JBQWM7QUFDeEQsbUJBQU9qQixhQUFha0IsSUFBYixDQUFrQixvQkFBWTtBQUNuQyxxQkFBT0MsU0FBUzVCLElBQVQsS0FBa0I2QixXQUFXN0IsSUFBcEM7QUFDRCxhQUZNLENBQVA7QUFHRCxXQUp3QixDQUF6Qjs7QUFNQVMsdUJBQWFxQixPQUFiLENBQXFCLG9CQUFXO0FBQzlCLGdCQUFJQyxjQUFjTixtQkFBbUJOLElBQW5CLENBQXdCO0FBQUEscUJBQUtTLFNBQVM1QixJQUFULEtBQWtCZ0MsRUFBRWhDLElBQXpCO0FBQUEsYUFBeEIsQ0FBbEI7QUFDQSxnQkFBRytCLFdBQUgsRUFBZTtBQUNiSCx1QkFBU3hCLE1BQVQsSUFBbUIyQixZQUFZM0IsTUFBL0I7QUFDRDtBQUNGLFdBTEQ7O0FBT0E7QUFDQSxjQUFNNkIsV0FBVzlCLFlBQVl1QixNQUFaLENBQW1CLHNCQUFjO0FBQ2hELG1CQUFPLENBQUNqQixhQUFha0IsSUFBYixDQUFrQixvQkFBWTtBQUNwQyxxQkFBT0MsU0FBUzVCLElBQVQsS0FBa0I2QixXQUFXN0IsSUFBcEM7QUFDRCxhQUZPLENBQVI7QUFHRCxXQUpnQixDQUFqQjs7QUFPQSxlQUFLZ0IsUUFBTCxDQUFjLFVBQUNDLFNBQUQ7QUFBQSxtQkFBZ0I7QUFDNUJSLHlEQUFrQkEsWUFBbEIsc0JBQW1Dd0IsUUFBbkM7QUFENEIsYUFBaEI7QUFBQSxXQUFkO0FBR0QsU0F6QkMsTUF5Qkk7QUFDSixlQUFLakIsUUFBTCxDQUFjLFVBQUNDLFNBQUQ7QUFBQSxtQkFBZ0I7QUFDNUJSLDRCQUFhTjtBQURlLGFBQWhCO0FBQUEsV0FBZDtBQUdEO0FBQ0EsT0FsQ0QsTUFtQ0s7QUFDSCxhQUFLYSxRQUFMLENBQWMsVUFBQ0MsU0FBRDtBQUFBLGlCQUFnQjtBQUM1QjNCLHlCQUFhMkIsVUFBVTFCLEtBQVYsQ0FBZ0JLLFVBREQ7QUFFNUJDLDRCQUFnQkE7QUFGWSxXQUFoQjtBQUFBLFNBQWQ7QUFJRDtBQUNGOzs7K0JBQ1VxQixRLEVBQVU7QUFDbkIsVUFBSXJCLGlCQUFpQixLQUFLUixLQUFMLENBQVdTLE9BQVgsQ0FBbUJxQixJQUFuQixDQUF3QixVQUFDQyxNQUFELEVBQVk7QUFBRSxlQUFPQSxPQUFPckIsRUFBUCxLQUFjbUIsUUFBckI7QUFBK0IsT0FBckUsQ0FBckI7QUFDQSxXQUFLRixRQUFMLENBQWMsVUFBQ0MsU0FBRDtBQUFBLGVBQWdCO0FBQzVCM0IsdUJBQWEyQixVQUFVMUIsS0FBVixDQUFnQkksVUFERDtBQUU1QkUsMEJBQWdCQTtBQUZZLFNBQWhCO0FBQUEsT0FBZDtBQUlEOzs7NkJBQ1F1QixNLEVBQVE7QUFDZixVQUFJLEtBQUsvQixLQUFMLENBQVdDLFdBQVgsS0FBMkIsS0FBS0QsS0FBTCxDQUFXRSxLQUFYLENBQWlCRyxZQUFoRCxFQUE4RDtBQUM1RCxZQUFJYSxZQUFZYSxNQUFoQjtBQUFBLFlBQ0V0QixVQUFVLEtBQUtULEtBQUwsQ0FBV1MsT0FBWCxDQUFtQm9DLEtBQW5CLEVBRFo7QUFFQTNCLGtCQUFVUixFQUFWLEdBQWVELFFBQVEwQixNQUFSLEdBQWlCLENBQWhDOztBQUVBMUIsZ0JBQVFxQyxJQUFSLENBQWE1QixTQUFiO0FBQ0EsYUFBS1MsUUFBTCxDQUFjLFVBQUNDLFNBQUQ7QUFBQSxpQkFDWjtBQUNFbkIscUJBQVNBLE9BRFg7QUFFRVIseUJBQWEyQixVQUFVMUIsS0FBVixDQUFnQkM7QUFGL0IsV0FEWTtBQUFBLFNBQWQ7QUFNRCxPQVpELE1BWU8sSUFBSSxLQUFLSCxLQUFMLENBQVdDLFdBQVgsS0FBMkIsS0FBS0QsS0FBTCxDQUFXRSxLQUFYLENBQWlCSSxVQUFoRCxFQUE0RDtBQUNqRSxZQUFJeUMsZUFBZWhCLE1BQW5CO0FBQUEsWUFDRXRCLFdBQVUsS0FBS1QsS0FBTCxDQUFXUyxPQUFYLENBQW1Cb0MsS0FBbkIsRUFEWjtBQUFBLFlBRUVHLGVBQWV2QyxTQUFRd0MsU0FBUixDQUFrQixVQUFDbEIsTUFBRCxFQUFZO0FBQUUsaUJBQU9BLE9BQU9yQixFQUFQLEtBQWNxQyxhQUFhckMsRUFBbEM7QUFBc0MsU0FBdEUsQ0FGakI7O0FBSUFELGlCQUFRdUMsWUFBUixJQUF3QkQsWUFBeEI7QUFDQSxhQUFLcEIsUUFBTCxDQUFjLFVBQUNDLFNBQUQ7QUFBQSxpQkFBZ0I7QUFDNUJuQixxQkFBU0EsUUFEbUI7QUFFNUJSLHlCQUFhMkIsVUFBVTFCLEtBQVYsQ0FBZ0JDO0FBRkQsV0FBaEI7QUFBQSxTQUFkO0FBS0Q7QUFDRjs7O2lDQUNZO0FBQ1gsV0FBS3dCLFFBQUwsQ0FBYyxVQUFDQyxTQUFEO0FBQUEsZUFBZ0I7QUFDNUIzQix1QkFBYTJCLFVBQVUxQixLQUFWLENBQWdCQztBQURELFNBQWhCO0FBQUEsT0FBZDtBQUdEOzs7aUNBQ1k7QUFDWCxXQUFLd0IsUUFBTCxDQUFjLFVBQUNDLFNBQUQ7QUFBQSxlQUFnQjtBQUM1QjNCLHVCQUFhMkIsVUFBVTFCLEtBQVYsQ0FBZ0JFO0FBREQsU0FBaEI7QUFBQSxPQUFkO0FBR0Q7OztnREFDMkI7QUFDMUIsV0FBS3VCLFFBQUwsQ0FBYyxVQUFDdUIsSUFBRDtBQUFBLGVBQVc7QUFDdkIvQixnQ0FBc0IrQixLQUFLL0Isb0JBQUwsR0FBNEIsS0FBNUIsR0FBb0M7QUFEbkMsU0FBWDtBQUFBLE9BQWQ7QUFHRDs7OzBDQUNxQkUsa0IsRUFBbUI7QUFDdkMsVUFBSUEsa0JBQUosRUFBd0I7QUFDcEIsYUFBS00sUUFBTCxDQUFjO0FBQ1pOLDhCQUFtQkE7QUFEUCxTQUFkO0FBR0gsT0FKRCxNQUlPO0FBQ0w7QUFDRDtBQUNGOzs7NkJBQ1E7QUFBQTs7QUFDUCxVQUFJWixPQUFKO0FBQUEsVUFDRTBDLE9BREY7QUFBQSxVQUVFQyxPQUZGO0FBQUEsVUFHRUMsTUFBTTtBQUNKLHNCQUFjLEtBQUtoRCxZQURmO0FBRUosNEJBQW9CLEtBQUtvQix5QkFGckI7QUFHSixvQkFBWSxLQUFLdEIsVUFIYjtBQUlKLG9CQUFZLEtBQUtDLFVBSmIsR0FIUjs7QUFTQSxVQUFJLEtBQUtKLEtBQUwsQ0FBV0MsV0FBWCxLQUEyQixLQUFLRCxLQUFMLENBQVdFLEtBQVgsQ0FBaUJDLFVBQTVDLElBQTBELEtBQUtILEtBQUwsQ0FBV0MsV0FBWCxLQUEyQixLQUFLRCxLQUFMLENBQVdFLEtBQVgsQ0FBaUJFLFVBQTFHLEVBQXNIO0FBQ3BISyxrQkFBVSxLQUFLVCxLQUFMLENBQVdTLE9BQVgsQ0FBbUI2QyxHQUFuQixDQUF1QixVQUFDdkIsTUFBRCxFQUFTd0IsS0FBVDtBQUFBLGlCQUMvQix3REFBWSxTQUFTLE9BQUsvQixhQUExQixFQUF5QyxRQUFRTyxNQUFqRCxFQUF5RCxLQUFLd0IsS0FBOUQsR0FEK0I7QUFBQSxTQUF2QixDQUFWO0FBR0FKLGtCQUFVO0FBQUE7QUFBQSxZQUFLLElBQUksS0FBS25ELEtBQUwsQ0FBV0MsV0FBWCxLQUEyQixLQUFLRCxLQUFMLENBQVdFLEtBQVgsQ0FBaUJDLFVBQTVDLEdBQXlELGtCQUF6RCxHQUE4RSxrQkFBdkY7QUFDUE07QUFETyxTQUFWO0FBR0QsT0FQRCxNQVFLLElBQUksS0FBS1QsS0FBTCxDQUFXQyxXQUFYLEtBQTJCLEtBQUtELEtBQUwsQ0FBV0UsS0FBWCxDQUFpQkcsWUFBaEQsRUFBOEQ7QUFDakU4QyxrQkFBVSx3REFBWSxRQUFRLEtBQUtuRCxLQUFMLENBQVdrQjtBQUN2QztBQURRLFlBRVIsVUFBVSxLQUFLc0Msa0JBRlA7QUFHUixtQkFBUyxLQUFLQyxhQUhOO0FBSVIsb0JBQVUsS0FBS0Msa0JBSlA7QUFLUixvQkFBVSxLQUFLcEMsUUFMUCxHQUFWO0FBTUQsT0FQSSxNQVFBLElBQUksS0FBS3RCLEtBQUwsQ0FBV0MsV0FBWCxLQUEyQixLQUFLRCxLQUFMLENBQVdFLEtBQVgsQ0FBaUJLLFVBQWhELEVBQTREO0FBQy9ENEMsa0JBQVUsd0RBQVksUUFBUSxLQUFLbkQsS0FBTCxDQUFXUSxjQUEvQixFQUErQyxTQUFTLEtBQUtGLFVBQTdELEdBQVY7QUFDRCxPQUZJLE1BR0EsSUFBSSxLQUFLTixLQUFMLENBQVdDLFdBQVgsS0FBMkIsS0FBS0QsS0FBTCxDQUFXRSxLQUFYLENBQWlCSSxVQUFoRCxFQUE0RDtBQUMvRDZDLGtCQUFVLHdEQUFZLFFBQVEsS0FBS25ELEtBQUwsQ0FBV1EsY0FBL0I7QUFDUiw2QkFBbUIsS0FBS1IsS0FBTCxDQUFXaUIsaUJBRHRCO0FBRVIsb0JBQVUsS0FBS3VDLGtCQUZQO0FBR1IsbUJBQVMsS0FBS0MsYUFITjtBQUlSLG9CQUFVLEtBQUtDLGtCQUpQO0FBS1Isb0JBQVUsS0FBS3BDLFFBTFAsR0FBVjtBQU1EOztBQUVELFVBQUksS0FBS3RCLEtBQUwsQ0FBV21CLG9CQUFmLEVBQXFDO0FBQ25DaUMsa0JBQ0U7QUFBQTtBQUFBO0FBQ0dDLGFBREg7QUFFRTtBQUFBO0FBQUEsY0FBSyxXQUFVLG1CQUFmO0FBQ0U7QUFBQTtBQUFBLGdCQUFLLFdBQVUsa0JBQWY7QUFDRSwwRUFBYyxjQUFjLEtBQUtyRCxLQUFMLENBQVdvQixZQUF2QyxFQUFxRCxvQkFBb0IsS0FBS3BCLEtBQUwsQ0FBV3FCLGtCQUFwRixFQUF3RyxTQUFTLEtBQUtLLHFCQUF0SDtBQURGLGFBREY7QUFJRTtBQUFBO0FBQUEsZ0JBQUssV0FBVSxxQkFBZjtBQUNHeUI7QUFESDtBQUpGO0FBRkYsU0FERjtBQVlELE9BYkQsTUFhTztBQUNMQyxrQkFDRTtBQUFBO0FBQUE7QUFDR0MsYUFESDtBQUVFO0FBQUE7QUFBQSxjQUFLLFdBQVUsY0FBZjtBQUFBO0FBQWdDRjtBQUFoQztBQUZGLFNBREY7QUFNRDtBQUNELGFBQ0VDLE9BREY7QUFHRDs7OztFQTVQc0IsZ0JBQU1PLFM7O0FBK1AvQixDQUtpQixDLENBTGhCOzs7Ozs7QUFNRDs7QUFFQSxtQkFBU0MsTUFBVCxDQUFnQiw4QkFBQyxVQUFELE9BQWhCLEVBQ0VDLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsQ0FERiIsImZpbGUiOiIzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSwgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBSZWNpcGVJdGVtIH0gZnJvbSAnLi9SZWNpcGVJdGVtLmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZUZvcm0gfSBmcm9tICcuL1JlY2lwZUZvcm0uanN4JztcclxuaW1wb3J0IHsgUmVjaXBlVmlldyB9IGZyb20gJy4vUmVjaXBlVmlldy5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVOYXYgfSBmcm9tICcuL25hdi5qc3gnO1xyXG5pbXBvcnQgeyBTaG9wcGluZ0xpc3QgfSBmcm9tICcuL1Nob3BwaW5nTGlzdC5qc3gnO1xyXG5pbXBvcnQgVGV4dGFyZWEgZnJvbSBcInJlYWN0LXRleHRhcmVhLWF1dG9zaXplXCI7XHJcblxyXG5jbGFzcyBSZWNpcGVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VycmVudFZpZXc6IDEsXHJcbiAgICAgIHZpZXdzOiB7IGdyaWRMYXlvdXQ6IDEsIGxpc3RMYXlvdXQ6IDIsIGNyZWF0ZVJlY2lwZTogMywgZWRpdFJlY2lwZTogNCwgdmlld1JlY2lwZTogNSB9LFxyXG4gICAgICBzZWxlY3RlZFJlY2lwZToge30sXHJcbiAgICAgIHJlY2lwZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgIG5hbWU6IFwiQ2hlZXNlIGNha2VcIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNoZWVzZSBiYXNlZCBjYWtlXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiU3RlcCAxIENvb2ssIFN0ZXAgMiBlYXRcIixcclxuICAgICAgICAgIGluZ3JlZGllbnRzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnQ2hlZXNlJyxcclxuICAgICAgICAgICAgICBhbW91bnQ6IDIwMCxcclxuICAgICAgICAgICAgICB1bml0T2ZNZWFzdXJlbWVudDogJ2cnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnQ2FrZScsXHJcbiAgICAgICAgICAgICAgYW1vdW50OiAxLFxyXG4gICAgICAgICAgICAgIHVuaXRPZk1lYXN1cmVtZW50OiAnbCdcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAyLFxyXG4gICAgICAgICAgbmFtZTogXCJCYW5hbmEgYnJlYWRcIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkJhbmFuYSBiYXNlZCBicmVhZFwiLFxyXG4gICAgICAgICAgbmV3SW5ncmVkaWVudE5hbWU6IFwiXCIsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiU3RlcCAxIENvb2ssIFN0ZXAgMiBlYXRcIixcclxuICAgICAgICAgIGluZ3JlZGllbnRzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnQmFuYW5hJyxcclxuICAgICAgICAgICAgICBhbW91bnQ6IDIwMCxcclxuICAgICAgICAgICAgICB1bml0T2ZNZWFzdXJlbWVudDogJ2cnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnQnJlYWQnLFxyXG4gICAgICAgICAgICAgIGFtb3VudDogMSxcclxuICAgICAgICAgICAgICB1bml0T2ZNZWFzdXJlbWVudDogJ2wnXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogMyxcclxuICAgICAgICAgIG5hbWU6IFwiS2V5IGxpbWUgcGllXCIsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJLZXkgYmFzZWQgcGllXCIsXHJcbiAgICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICAgIG1ldGhvZDogXCJTdGVwIDEgQ29vaywgU3RlcCAyIGVhdFwiLFxyXG4gICAgICAgICAgaW5ncmVkaWVudHM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdLZXknLFxyXG4gICAgICAgICAgICAgIGFtb3VudDogMjAwLFxyXG4gICAgICAgICAgICAgIHVuaXRPZk1lYXN1cmVtZW50OiAnZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdMaW1lJyxcclxuICAgICAgICAgICAgICBhbW91bnQ6IDEsXHJcbiAgICAgICAgICAgICAgdW5pdE9mTWVhc3VyZW1lbnQ6ICdsJ1xyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICAgIG5ld1JlY2lwZToge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIG5hbWU6IFwiXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgICAgICAgbmV3SW5ncmVkaWVudE5hbWU6IFwiXCIsXHJcbiAgICAgICAgbWV0aG9kOiBcIlwiLFxyXG4gICAgICAgIGluZ3JlZGllbnRzOiBbXVxyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGluZ1Nob3BwaW5nTGlzdDogZmFsc2UsXHJcbiAgICAgIHNob3BwaW5nTGlzdDogW10sXHJcbiAgICAgIHNob3BwaW5nTGlzdEV4dHJhczpbXVxyXG4gICAgfVxyXG4gICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlUmVjaXBlID0gdGhpcy5jcmVhdGVSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucmVjaXBlQ2xpY2tlZCA9IHRoaXMucmVjaXBlQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lZGl0UmVjaXBlID0gdGhpcy5lZGl0UmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdyaWRMYXlvdXQgPSB0aGlzLmdyaWRMYXlvdXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMubGlzdExheW91dCA9IHRoaXMubGlzdExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcyA9ICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcy5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBjcmVhdGVSZWNpcGUoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuY3JlYXRlUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIHJlY2lwZUNsaWNrZWQocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQ7IH0pO1xyXG5cclxuICAgIGlmKHRoaXMuc3RhdGUuY3JlYXRpbmdTaG9wcGluZ0xpc3QpIHtcclxuICAgICAgbGV0IHNob3BwaW5nTGlzdCA9ICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KCB0aGlzLnN0YXRlLnNob3BwaW5nTGlzdCApKSxcclxuICAgICAgaW5ncmVkaWVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KCBzZWxlY3RlZFJlY2lwZS5pbmdyZWRpZW50cyApKTs7XHJcblxyXG4gICAgICBpZihzaG9wcGluZ0xpc3QubGVuZ3RoID4gMCl7XHJcbiAgICAgIGxldCBtYXRjaGVkSW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cy5maWx0ZXIoaW5ncmVkaWVudCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNob3BwaW5nTGlzdC5zb21lKGxpc3RJdGVtID0+IHtcclxuICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5uYW1lID09PSBpbmdyZWRpZW50Lm5hbWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzaG9wcGluZ0xpc3QuZm9yRWFjaChsaXN0SXRlbSA9PntcclxuICAgICAgICB2YXIgbWF0Y2hlZEl0ZW0gPSBtYXRjaGVkSW5ncmVkaWVudHMuZmluZCh4ID0+IGxpc3RJdGVtLm5hbWUgPT09IHgubmFtZSk7XHJcbiAgICAgICAgaWYobWF0Y2hlZEl0ZW0pe1xyXG4gICAgICAgICAgbGlzdEl0ZW0uYW1vdW50ICs9IG1hdGNoZWRJdGVtLmFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gbGV0IG5ld0l0ZW1zID0gaW5ncmVkaWVudHMuZmlsdGVyKChpbmdyZWRpZW50KSA9PiB7IHJldHVybiBzaG9wcGluZ0xpc3QuZmluZEluZGV4KGluZ3JlZGllbnQubmFtZSkgPT0gLTE7IH0pXHJcbiAgICAgIGNvbnN0IG5ld0l0ZW1zID0gaW5ncmVkaWVudHMuZmlsdGVyKGluZ3JlZGllbnQgPT4ge1xyXG4gICAgICAgIHJldHVybiAhc2hvcHBpbmdMaXN0LnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGxpc3RJdGVtLm5hbWUgPT09IGluZ3JlZGllbnQubmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuICAgICBcclxuXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICBzaG9wcGluZ0xpc3Q6IFsuLi5zaG9wcGluZ0xpc3QsIC4uLm5ld0l0ZW1zXVxyXG4gICAgICB9KSk7XHJcbiAgICB9IGVsc2V7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICBzaG9wcGluZ0xpc3Q6aW5ncmVkaWVudHNcclxuICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLnZpZXdSZWNpcGUsXHJcbiAgICAgICAgc2VsZWN0ZWRSZWNpcGU6IHNlbGVjdGVkUmVjaXBlXHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICB9XHJcbiAgZWRpdFJlY2lwZShyZWNpcGVJZCkge1xyXG4gICAgdmFyIHNlbGVjdGVkUmVjaXBlID0gdGhpcy5zdGF0ZS5yZWNpcGVzLmZpbmQoKHJlY2lwZSkgPT4geyByZXR1cm4gcmVjaXBlLmlkID09PSByZWNpcGVJZCB9KTtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5lZGl0UmVjaXBlLFxyXG4gICAgICBzZWxlY3RlZFJlY2lwZTogc2VsZWN0ZWRSZWNpcGVcclxuICAgIH0pKTtcclxuICB9XHJcbiAgb25TdWJtaXQocmVjaXBlKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGUpIHtcclxuICAgICAgbGV0IG5ld1JlY2lwZSA9IHJlY2lwZSxcclxuICAgICAgICByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLnNsaWNlKCk7XHJcbiAgICAgIG5ld1JlY2lwZS5pZCA9IHJlY2lwZXMubGVuZ3RoICsgMTtcclxuXHJcbiAgICAgIHJlY2lwZXMucHVzaChuZXdSZWNpcGUpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+IChcclxuICAgICAgICB7XHJcbiAgICAgICAgICByZWNpcGVzOiByZWNpcGVzLFxyXG4gICAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5ncmlkTGF5b3V0XHJcbiAgICAgICAgfVxyXG4gICAgICApKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5lZGl0UmVjaXBlKSB7XHJcbiAgICAgIGxldCBlZGl0ZWRSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpLFxyXG4gICAgICAgIGN1cnJlbnRJbmRleCA9IHJlY2lwZXMuZmluZEluZGV4KChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gZWRpdGVkUmVjaXBlLmlkIH0pO1xyXG5cclxuICAgICAgcmVjaXBlc1tjdXJyZW50SW5kZXhdID0gZWRpdGVkUmVjaXBlO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgcmVjaXBlczogcmVjaXBlcyxcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmdyaWRMYXlvdXRcclxuICAgICAgfVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ3JpZExheW91dCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5ncmlkTGF5b3V0XHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIGxpc3RMYXlvdXQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MubGlzdExheW91dFxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBjcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldikgPT4gKHtcclxuICAgICAgY3JlYXRpbmdTaG9wcGluZ0xpc3Q6IHByZXYuY3JlYXRpbmdTaG9wcGluZ0xpc3QgPyBmYWxzZSA6IHRydWVcclxuICAgIH0pKVxyXG4gIH1cclxuICBhZGRTaG9wcGluZ0xpc3RFeHRyYXMoc2hvcHBpbmdMaXN0RXh0cmFzKXtcclxuICAgIGlmIChzaG9wcGluZ0xpc3RFeHRyYXMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNob3BwaW5nTGlzdEV4dHJhczpzaG9wcGluZ0xpc3RFeHRyYXMgICBcclxuICAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICB2YXIgcmVjaXBlcyxcclxuICAgICAgY29udGVudCxcclxuICAgICAgd3JhcHBlcixcclxuICAgICAgbmF2ID0gPFJlY2lwZU5hdlxyXG4gICAgICAgIGNyZWF0ZVJlY2lwZT17dGhpcy5jcmVhdGVSZWNpcGV9XHJcbiAgICAgICAgY3JlYXRlU2hvcHBpbmdMaXN0PXt0aGlzLmNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWR9XHJcbiAgICAgICAgZ3JpZExheW91dD17dGhpcy5ncmlkTGF5b3V0fVxyXG4gICAgICAgIGxpc3RMYXlvdXQ9e3RoaXMubGlzdExheW91dH0gLz47XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZ3JpZExheW91dCB8fCB0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmxpc3RMYXlvdXQpIHtcclxuICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5tYXAoKHJlY2lwZSwgaW5kZXgpID0+XHJcbiAgICAgICAgPFJlY2lwZUl0ZW0gb25DbGljaz17dGhpcy5yZWNpcGVDbGlja2VkfSByZWNpcGU9e3JlY2lwZX0ga2V5PXtpbmRleH0gLz4sXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnRlbnQgPSA8ZGl2IGlkPXt0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmdyaWRMYXlvdXQgPyAncmVjaXBlLWJvb2stZ3JpZCcgOiAncmVjaXBlLWJvb2stbGlzdCd9PlxyXG4gICAgICAgIHtyZWNpcGVzfVxyXG4gICAgICA8L2Rpdj47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmNyZWF0ZVJlY2lwZSkge1xyXG4gICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLm5ld1JlY2lwZX1cclxuICAgICAgICAvLyBuZXdJbmdyZWRpZW50TmFtZT17dGhpcy5zdGF0ZS5uZXdJbmdyZWRpZW50TmFtZX1cclxuICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgIG9uRGVsZXRlPXt0aGlzLmluZ3JlZGllbnRPbkRlbGV0ZX1cclxuICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLnZpZXdSZWNpcGUpIHtcclxuICAgICAgY29udGVudCA9IDxSZWNpcGVWaWV3IHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX0gb25DbGljaz17dGhpcy5lZGl0UmVjaXBlfSAvPjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZWRpdFJlY2lwZSkge1xyXG4gICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLnNlbGVjdGVkUmVjaXBlfVxyXG4gICAgICAgIG5ld0luZ3JlZGllbnROYW1lPXt0aGlzLnN0YXRlLm5ld0luZ3JlZGllbnROYW1lfVxyXG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlZH1cclxuICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEluZ3JlZGllbnR9XHJcbiAgICAgICAgb25EZWxldGU9e3RoaXMuaW5ncmVkaWVudE9uRGVsZXRlfVxyXG4gICAgICAgIG9uU3VibWl0PXt0aGlzLm9uU3VibWl0fSAvPjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jcmVhdGluZ1Nob3BwaW5nTGlzdCkge1xyXG4gICAgICB3cmFwcGVyID1cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAge25hdn1cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi1mbGV4LXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaG9wcGluZy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgPFNob3BwaW5nTGlzdCBzaG9wcGluZ0xpc3Q9e3RoaXMuc3RhdGUuc2hvcHBpbmdMaXN0fSBzaG9wcGluZ0xpc3RFeHRyYXM9e3RoaXMuc3RhdGUuc2hvcHBpbmdMaXN0RXh0cmFzfSBvbkNsaWNrPXt0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhc30gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWJvb2std3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgIHtjb250ZW50fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4td3JhcHBlclwiPiB7Y29udGVudH08L2Rpdj5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3cmFwcGVyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuey8qIDxkaXYgY2xhc3M9XCJtYXgtNjAwXCI+bWF4LXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi02MDBcIj5taW4td2lkdGg6IDYwMHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTc2OFwiPm1pbi13aWR0aDogNzY4cHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tOTkyXCI+bWluLXdpZHRoOiA5OTJweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi0xMjAwXCI+bWluLXdpZHRoOiAxMjAwcHg8L2Rpdj5cclxuICAgICAgIDwvZGl2PiAqL31cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxSZWNpcGVQYWdlIC8+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTsiXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///34\\n\")}});","extractedComments":[]}