{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{60:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(1);\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactDom = __webpack_require__(58);\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nvar _firebase = __webpack_require__(13);\\n\\nvar _IdCreator = __webpack_require__(84);\\n\\nvar _RecipeItem = __webpack_require__(36);\\n\\nvar _RecipeForm = __webpack_require__(32);\\n\\nvar _RecipeView = __webpack_require__(27);\\n\\nvar _nav = __webpack_require__(26);\\n\\nvar _ShoppingList = __webpack_require__(19);\\n\\nvar _login = __webpack_require__(18);\\n\\nvar _reactTextareaAutosize = __webpack_require__(11);\\n\\nvar _reactTextareaAutosize2 = _interopRequireDefault(_reactTextareaAutosize);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar RecipePage = function (_React$Component) {\\n  _inherits(RecipePage, _React$Component);\\n\\n  function RecipePage(props) {\\n    _classCallCheck(this, RecipePage);\\n\\n    var _this = _possibleConstructorReturn(this, (RecipePage.__proto__ || Object.getPrototypeOf(RecipePage)).call(this, props));\\n\\n    _this.state = {\\n      authUser: null,\\n      currentView: 1,\\n      views: { gridLayout: 1, listLayout: 2, createRecipe: 3, editRecipe: 4, viewRecipe: 5 },\\n      selectedRecipe: {},\\n      recipes: [],\\n      newRecipe: {\\n        name: \\\"\\\",\\n        description: \\\"\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"\\\",\\n        ingredients: []\\n      },\\n      creatingShoppingList: false,\\n      shoppingList: {\\n        shoppingListUsed: false,\\n        shoppingListIngredients: [],\\n        shoppingListExtras: []\\n      }\\n    };\\n    _this.onSubmit = _this.onSubmit.bind(_this);\\n    _this.createRecipe = _this.createRecipe.bind(_this);\\n    _this.recipeClicked = _this.recipeClicked.bind(_this);\\n    _this.editRecipe = _this.editRecipe.bind(_this);\\n    _this.gridLayout = _this.gridLayout.bind(_this);\\n    _this.listLayout = _this.listLayout.bind(_this);\\n    _this.createShoppingListClicked = _this.createShoppingListClicked.bind(_this);\\n    _this.addShoppingListExtras = _this.addShoppingListExtras.bind(_this);\\n    _this.logOutClicked = _this.logOutClicked.bind(_this);\\n    _this.saveShoppingList = _this.saveShoppingList.bind(_this);\\n    _this.newShoppingList = _this.newShoppingList.bind(_this);\\n    return _this;\\n  }\\n\\n  _createClass(RecipePage, [{\\n    key: 'componentDidMount',\\n    value: function componentDidMount() {\\n      var _this2 = this;\\n\\n      _firebase.auth.onAuthStateChanged(function (authUser) {\\n        authUser ? _this2.setState(function () {\\n          return { authUser: authUser };\\n        }) : _this2.setState(function () {\\n          return { authUser: null };\\n        });\\n      });\\n      this.getRecipes();\\n      this.getShoppingList();\\n    }\\n  }, {\\n    key: 'getRecipes',\\n    value: function getRecipes() {\\n      var _this3 = this;\\n\\n      _firebase.firestore.collection('Recipes').get().then(function (querySnapshot) {\\n        var recipes = querySnapshot.docs.map(function (doc) {\\n          var recipe = doc.data();\\n          recipe.id = doc.id;\\n          return recipe;\\n        });\\n        _this3.setState(function (prevState) {\\n          return {\\n            recipes: recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      });\\n    }\\n  }, {\\n    key: 'getShoppingList',\\n    value: function getShoppingList() {\\n      var _this4 = this;\\n\\n      _firebase.firestore.collection('ShoppingList').where(\\\"shoppingListUsed\\\", '==', false).get().then(function (querySnapshot) {\\n        if (querySnapshot.docs.length === 1) {\\n          var shoppingList = querySnapshot.docs[0].data();\\n          _this4.setState({\\n            shoppingList: shoppingList\\n          });\\n        } else {\\n          _this4.createNewShoppingList();\\n        }\\n      });\\n    }\\n  }, {\\n    key: 'createNewShoppingList',\\n    value: function createNewShoppingList() {\\n      var _this5 = this;\\n\\n      var dateCreated = new Date(),\\n          id = _IdCreator.IdCreator.createAutoId();\\n      var shoppingList = {\\n        id: id,\\n        dateCreated: dateCreated,\\n        shoppingListUsed: false,\\n        shoppingListIngredients: [],\\n        shoppingListExtras: []\\n      };\\n      _firebase.firestore.collection('ShoppingList').doc(shoppingList.id).set(shoppingList).then(function (docRef) {\\n        console.log(\\\"ShoppingListSaved saved successfully\\\");\\n        _this5.setState({\\n          shoppingList: shoppingList\\n        });\\n      }).catch(function (error) {\\n        return console.log(\\\"Error adding document: \\\", error);\\n      });\\n    }\\n  }, {\\n    key: 'saveShoppingList',\\n    value: function saveShoppingList() {\\n      var _this6 = this;\\n\\n      var shoppingList = this.state.shoppingList;\\n      if (shoppingList.id) {\\n        _firebase.firestore.collection('ShoppingList').doc(shoppingList.id).set(shoppingList).then(function () {\\n          console.log(\\\"ShoppingListSaved saved successfully\\\");\\n          _this6.getShoppingList();\\n        }).catch(function (error) {\\n          return console.log(\\\"Error adding document: \\\", error);\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'newShoppingList',\\n    value: function newShoppingList() {\\n      var confirmResponse = confirm(\\\"Are you sure you would like to start a new shopping list?\\\");\\n      if (confirmResponse) {\\n        debugger;\\n        var shoppingList = this.state.shoppingList;\\n        shoppingList.shoppingListUsed = true;\\n        this.setState({\\n          shoppingList: shoppingList\\n        });\\n        this.saveShoppingList();\\n      } else {\\n        return;\\n      }\\n    }\\n  }, {\\n    key: 'deleteShoppingListIngredient',\\n    value: function deleteShoppingListIngredient(index) {\\n      var shoppingList = Object.assign({}, this.state.shoppingList);\\n      if (index > -1) {\\n        shoppingList.shoppingListIngredients.splice(index, 1);\\n      }\\n      this.setState({ shoppingList: shoppingList });\\n    }\\n  }, {\\n    key: 'deleteShoppingListExtra',\\n    value: function deleteShoppingListExtra(index) {\\n      var shoppingList = Object.assign({}, this.state.shoppingList);\\n      if (index > -1) {\\n        shoppingList.shoppingListExtras.splice(index, 1);\\n      }\\n      this.setState({ shoppingList: shoppingList });\\n    }\\n  }, {\\n    key: 'createRecipe',\\n    value: function createRecipe() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.createRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'recipeClicked',\\n    value: function recipeClicked(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      if (this.state.creatingShoppingList) {\\n        debugger;\\n        var shoppingList = JSON.parse(JSON.stringify(this.state.shoppingList)),\\n            shoppingListIngredients = shoppingList.shoppingListIngredients,\\n            ingredients = JSON.parse(JSON.stringify(selectedRecipe.ingredients));;\\n\\n        if (shoppingListIngredients.length > 0) {\\n          var matchedIngredients = ingredients.filter(function (ingredient) {\\n            return shoppingListIngredients.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingListIngredients.forEach(function (listItem) {\\n            var matchedItem = matchedIngredients.find(function (x) {\\n              return listItem.name === x.name;\\n            });\\n            if (matchedItem) {\\n              listItem.amount = Number(listItem.amount) + Number(matchedItem.amount);\\n            }\\n          });\\n\\n          // let newItems = ingredients.filter((ingredient) => { return shoppingList.findIndex(ingredient.name) == -1; })\\n          var newItems = ingredients.filter(function (ingredient) {\\n            return !shoppingListIngredients.some(function (listItem) {\\n              return listItem.name === ingredient.name;\\n            });\\n          });\\n\\n          shoppingList.shoppingListIngredients = [].concat(_toConsumableArray(shoppingListIngredients), _toConsumableArray(newItems));\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: shoppingList\\n            };\\n          });\\n        } else {\\n          shoppingList.shoppingListIngredients = ingredients;\\n          this.setState(function (prevState) {\\n            return {\\n              shoppingList: shoppingList\\n            };\\n          });\\n        }\\n      } else {\\n        this.setState(function (prevState) {\\n          return {\\n            currentView: prevState.views.viewRecipe,\\n            selectedRecipe: selectedRecipe\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'editRecipe',\\n    value: function editRecipe(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.editRecipe,\\n          selectedRecipe: selectedRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'onSubmit',\\n    value: function onSubmit(recipe) {\\n      var _this7 = this;\\n\\n      if (this.state.currentView === this.state.views.createRecipe) {\\n        var newRecipe = recipe,\\n            recipes = this.state.recipes.slice();\\n\\n        _firebase.firestore.collection('Recipes').doc().set(recipe).then(function (docRef) {\\n          console.log(\\\"Recipe saved successfully\\\");\\n          _this7.getRecipes();\\n        }).catch(function (error) {\\n          return console.log(\\\"Error adding document: \\\", error);\\n        });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        var editedRecipe = recipe,\\n            _recipes = this.state.recipes.slice(),\\n            currentIndex = _recipes.findIndex(function (recipe) {\\n          return recipe.id === editedRecipe.id;\\n        });\\n\\n        _recipes[currentIndex] = editedRecipe;\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: _recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'gridLayout',\\n    value: function gridLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.gridLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'listLayout',\\n    value: function listLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.listLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'createShoppingListClicked',\\n    value: function createShoppingListClicked() {\\n      this.setState(function (prev) {\\n        return {\\n          creatingShoppingList: prev.creatingShoppingList ? false : true\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'addShoppingListExtras',\\n    value: function addShoppingListExtras(shoppingListExtras) {\\n      if (shoppingListExtras) {\\n        var shoppingList = this.state.shoppingList;\\n        shoppingList.shoppingListExtras = shoppingListExtras;\\n      } else {\\n        return;\\n      }\\n    }\\n  }, {\\n    key: 'logOutClicked',\\n    value: function logOutClicked(e) {\\n      e.preventDefault();\\n      _firebase.auth.signOut();\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this8 = this;\\n\\n      var recipes,\\n          content,\\n          wrapper,\\n          nav = _react2.default.createElement(_nav.RecipeNav, {\\n        createRecipe: this.createRecipe,\\n        createShoppingList: this.createShoppingListClicked,\\n        gridLayout: this.gridLayout,\\n        listLayout: this.listLayout });\\n\\n      if (this.state.authUser) {\\n        if (this.state.currentView === this.state.views.gridLayout || this.state.currentView === this.state.views.listLayout) {\\n          recipes = this.state.recipes.map(function (recipe, index) {\\n            return _react2.default.createElement(_RecipeItem.RecipeItem, { onClick: _this8.recipeClicked, recipe: recipe, key: index });\\n          });\\n          content = _react2.default.createElement(\\n            'div',\\n            { id: this.state.currentView === this.state.views.gridLayout ? 'recipe-book-grid' : 'recipe-book-list' },\\n            recipes\\n          );\\n        } else if (this.state.currentView === this.state.views.createRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.newRecipe\\n            // newIngredientName={this.state.newIngredientName}\\n            , onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        } else if (this.state.currentView === this.state.views.viewRecipe) {\\n          content = _react2.default.createElement(_RecipeView.RecipeView, { recipe: this.state.selectedRecipe, onClick: this.editRecipe });\\n        } else if (this.state.currentView === this.state.views.editRecipe) {\\n          content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.selectedRecipe,\\n            newIngredientName: this.state.newIngredientName,\\n            onChange: this.handleInputChanged,\\n            onClick: this.addIngredient,\\n            onDelete: this.ingredientOnDelete,\\n            onSubmit: this.onSubmit });\\n        }\\n        if (this.state.creatingShoppingList) {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-flex-wrapper' },\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'shopping-wrapper' },\\n                _react2.default.createElement(_ShoppingList.ShoppingList, { shoppingList: this.state.shoppingList.shoppingListIngredients,\\n                  shoppingListExtras: this.state.shoppingList.shoppingListExtras,\\n                  onClick: this.addShoppingListExtras,\\n                  onSave: this.saveShoppingList,\\n                  deleteShoppingListIngredient: this.deleteShoppingListIngredient,\\n                  deleteShoppingListExtra: this.deleteShoppingListExtra,\\n                  createNewShoppingList: this.newShoppingList })\\n              ),\\n              _react2.default.createElement(\\n                'div',\\n                { className: 'recipe-book-wrapper' },\\n                content\\n              )\\n            )\\n          );\\n        } else {\\n          wrapper = _react2.default.createElement(\\n            'div',\\n            null,\\n            nav,\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'main-wrapper' },\\n              ' ',\\n              content\\n            ),\\n            _react2.default.createElement(\\n              'div',\\n              { onClick: this.logOutClicked },\\n              'Log Out'\\n            )\\n          );\\n        }\\n      } else {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          _react2.default.createElement(_login.Login, null)\\n        );\\n      }\\n      return wrapper;\\n    }\\n  }]);\\n\\n  return RecipePage;\\n}(_react2.default.Component);\\n\\n{} /* <div class=\\\"max-600\\\">max-width: 600px</div>\\r\\n            <div class=\\\"min-600\\\">min-width: 600px</div>\\r\\n            <div class=\\\"min-768\\\">min-width: 768px</div>\\r\\n            <div class=\\\"min-992\\\">min-width: 992px</div>\\r\\n            <div class=\\\"min-1200\\\">min-width: 1200px</div>\\r\\n         </div> */\\n// ========================================\\n\\n_reactDom2.default.render(_react2.default.createElement(RecipePage, null), document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJwcm9wcyIsInN0YXRlIiwiYXV0aFVzZXIiLCJjdXJyZW50VmlldyIsInZpZXdzIiwiZ3JpZExheW91dCIsImxpc3RMYXlvdXQiLCJjcmVhdGVSZWNpcGUiLCJlZGl0UmVjaXBlIiwidmlld1JlY2lwZSIsInNlbGVjdGVkUmVjaXBlIiwicmVjaXBlcyIsIm5ld1JlY2lwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm5ld0luZ3JlZGllbnROYW1lIiwibWV0aG9kIiwiaW5ncmVkaWVudHMiLCJjcmVhdGluZ1Nob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdCIsInNob3BwaW5nTGlzdFVzZWQiLCJzaG9wcGluZ0xpc3RJbmdyZWRpZW50cyIsInNob3BwaW5nTGlzdEV4dHJhcyIsIm9uU3VibWl0IiwiYmluZCIsInJlY2lwZUNsaWNrZWQiLCJjcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkIiwiYWRkU2hvcHBpbmdMaXN0RXh0cmFzIiwibG9nT3V0Q2xpY2tlZCIsInNhdmVTaG9wcGluZ0xpc3QiLCJuZXdTaG9wcGluZ0xpc3QiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJzZXRTdGF0ZSIsImdldFJlY2lwZXMiLCJnZXRTaG9wcGluZ0xpc3QiLCJjb2xsZWN0aW9uIiwiZ2V0IiwidGhlbiIsInF1ZXJ5U25hcHNob3QiLCJkb2NzIiwibWFwIiwicmVjaXBlIiwiZG9jIiwiZGF0YSIsImlkIiwicHJldlN0YXRlIiwid2hlcmUiLCJsZW5ndGgiLCJjcmVhdGVOZXdTaG9wcGluZ0xpc3QiLCJkYXRlQ3JlYXRlZCIsIkRhdGUiLCJjcmVhdGVBdXRvSWQiLCJzZXQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImNvbmZpcm1SZXNwb25zZSIsImNvbmZpcm0iLCJpbmRleCIsIk9iamVjdCIsImFzc2lnbiIsInNwbGljZSIsInJlY2lwZUlkIiwiZmluZCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm1hdGNoZWRJbmdyZWRpZW50cyIsImZpbHRlciIsInNvbWUiLCJsaXN0SXRlbSIsImluZ3JlZGllbnQiLCJmb3JFYWNoIiwibWF0Y2hlZEl0ZW0iLCJ4IiwiYW1vdW50IiwiTnVtYmVyIiwibmV3SXRlbXMiLCJzbGljZSIsImVkaXRlZFJlY2lwZSIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsInByZXYiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaWduT3V0IiwiY29udGVudCIsIndyYXBwZXIiLCJuYXYiLCJoYW5kbGVJbnB1dENoYW5nZWQiLCJhZGRJbmdyZWRpZW50IiwiaW5ncmVkaWVudE9uRGVsZXRlIiwiZGVsZXRlU2hvcHBpbmdMaXN0SW5ncmVkaWVudCIsImRlbGV0ZVNob3BwaW5nTGlzdEV4dHJhIiwiQ29tcG9uZW50IiwicmVuZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7SUFFTUEsVTs7O0FBQ0osc0JBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSx3SEFDWEEsS0FEVzs7QUFFakIsVUFBS0MsS0FBTCxHQUFhO0FBQ1hDLGdCQUFVLElBREM7QUFFWEMsbUJBQWEsQ0FGRjtBQUdYQyxhQUFPLEVBQUVDLFlBQVksQ0FBZCxFQUFpQkMsWUFBWSxDQUE3QixFQUFnQ0MsY0FBYyxDQUE5QyxFQUFpREMsWUFBWSxDQUE3RCxFQUFnRUMsWUFBWSxDQUE1RSxFQUhJO0FBSVhDLHNCQUFnQixFQUpMO0FBS1hDLGVBQVMsRUFMRTtBQU1YQyxpQkFBVztBQUNUQyxjQUFNLEVBREc7QUFFVEMscUJBQWEsRUFGSjtBQUdUQywyQkFBbUIsRUFIVjtBQUlUQyxnQkFBUSxFQUpDO0FBS1RDLHFCQUFhO0FBTEosT0FOQTtBQWFYQyw0QkFBc0IsS0FiWDtBQWNYQyxv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OEIsS0FBS2dFLDRCQUpyQztBQUtFLDJDQUF5QixLQUFLQyx1QkFMaEM7QUFNQyx5Q0FBdUIsS0FBS2hFLGVBTjdCO0FBREYsZUFERjtBQVVFO0FBQUE7QUFBQSxrQkFBSyxXQUFVLHFCQUFmO0FBQ0d5RDtBQURIO0FBVkY7QUFGRixXQURGO0FBa0JELFNBbkJELE1BbUJPO0FBQ0xDLG9CQUNFO0FBQUE7QUFBQTtBQUNHQyxlQURIO0FBRUU7QUFBQTtBQUFBLGdCQUFLLFdBQVUsY0FBZjtBQUFBO0FBQWdDRjtBQUFoQyxhQUZGO0FBR0U7QUFBQTtBQUFBLGdCQUFLLFNBQVMsS0FBSzNELGFBQW5CO0FBQUE7QUFBQTtBQUhGLFdBREY7QUFNRDtBQUNGLE9BdkRELE1BdURPO0FBQ0w0RCxrQkFDRTtBQUFBO0FBQUE7QUFDRTtBQURGLFNBREY7QUFJRDtBQUNELGFBQ0VBLE9BREY7QUFHRDs7OztFQXpUc0IsZ0JBQU1PLFM7O0FBNFQvQixDQUtpQixDLENBTGhCOzs7Ozs7QUFNRDs7QUFFQSxtQkFBU0MsTUFBVCxDQUFnQiw4QkFBQyxVQUFELE9BQWhCLEVBQ0VDLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsQ0FERiIsImZpbGUiOiI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSwgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyByZWNpcGVEQiB9IGZyb20gJy4vZmlyZWJhc2UuanN4JztcclxuaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyBJZENyZWF0b3IgfSBmcm9tICcuL0lkQ3JlYXRvci5qcyc7XHJcbmltcG9ydCB7IFJlY2lwZUl0ZW0gfSBmcm9tICcuL1JlY2lwZUl0ZW0uanN4JztcclxuaW1wb3J0IHsgUmVjaXBlRm9ybSB9IGZyb20gJy4vUmVjaXBlRm9ybS5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVWaWV3IH0gZnJvbSAnLi9SZWNpcGVWaWV3LmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZU5hdiB9IGZyb20gJy4vbmF2LmpzeCc7XHJcbmltcG9ydCB7IFNob3BwaW5nTGlzdCB9IGZyb20gJy4vU2hvcHBpbmdMaXN0LmpzeCc7XHJcbmltcG9ydCB7IExvZ2luIH0gZnJvbSAnLi9sb2dpbi5qc3gnO1xyXG5pbXBvcnQgVGV4dGFyZWEgZnJvbSBcInJlYWN0LXRleHRhcmVhLWF1dG9zaXplXCI7XHJcblxyXG5jbGFzcyBSZWNpcGVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXV0aFVzZXI6IG51bGwsXHJcbiAgICAgIGN1cnJlbnRWaWV3OiAxLFxyXG4gICAgICB2aWV3czogeyBncmlkTGF5b3V0OiAxLCBsaXN0TGF5b3V0OiAyLCBjcmVhdGVSZWNpcGU6IDMsIGVkaXRSZWNpcGU6IDQsIHZpZXdSZWNpcGU6IDUgfSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHt9LFxyXG4gICAgICByZWNpcGVzOiBbXSxcclxuICAgICAgbmV3UmVjaXBlOiB7XHJcbiAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICBtZXRob2Q6IFwiXCIsXHJcbiAgICAgICAgaW5ncmVkaWVudHM6IFtdXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0OiB7XHJcbiAgICAgICAgc2hvcHBpbmdMaXN0VXNlZDogZmFsc2UsXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHM6IFtdLFxyXG4gICAgICAgIHNob3BwaW5nTGlzdEV4dHJhczogW11cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlUmVjaXBlID0gdGhpcy5jcmVhdGVSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucmVjaXBlQ2xpY2tlZCA9IHRoaXMucmVjaXBlQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lZGl0UmVjaXBlID0gdGhpcy5lZGl0UmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdyaWRMYXlvdXQgPSB0aGlzLmdyaWRMYXlvdXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMubGlzdExheW91dCA9IHRoaXMubGlzdExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcyA9IHRoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxvZ091dENsaWNrZWQgPSB0aGlzLmxvZ091dENsaWNrZWQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuc2F2ZVNob3BwaW5nTGlzdCA9IHRoaXMuc2F2ZVNob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5uZXdTaG9wcGluZ0xpc3QgPSB0aGlzLm5ld1Nob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGF1dGhVc2VyID0+IHtcclxuICAgICAgYXV0aFVzZXJcclxuICAgICAgICA/IHRoaXMuc2V0U3RhdGUoKCkgPT4gKHsgYXV0aFVzZXIgfSkpXHJcbiAgICAgICAgOiB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGF1dGhVc2VyOiBudWxsIH0pKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5nZXRSZWNpcGVzKCk7XHJcbiAgICB0aGlzLmdldFNob3BwaW5nTGlzdCgpO1xyXG4gIH1cclxuICBnZXRSZWNpcGVzKCkge1xyXG4gICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1JlY2lwZXMnKS5nZXQoKS50aGVuKHF1ZXJ5U25hcHNob3QgPT4ge1xyXG4gICAgICBsZXQgcmVjaXBlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcclxuICAgICAgICBsZXQgcmVjaXBlID0gZG9jLmRhdGEoKTtcclxuICAgICAgICByZWNpcGUuaWQgPSBkb2MuaWQ7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICByZWNpcGVzOiByZWNpcGVzLFxyXG4gICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgICB9XHJcbiAgICAgICkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGdldFNob3BwaW5nTGlzdCgpIHtcclxuICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdTaG9wcGluZ0xpc3QnKS53aGVyZShcInNob3BwaW5nTGlzdFVzZWRcIiwgJz09JywgZmFsc2UpLmdldCgpLnRoZW4ocXVlcnlTbmFwc2hvdCA9PiB7XHJcbiAgICAgIGlmIChxdWVyeVNuYXBzaG90LmRvY3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgbGV0IHNob3BwaW5nTGlzdCA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5kYXRhKCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlTmV3U2hvcHBpbmdMaXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBjcmVhdGVOZXdTaG9wcGluZ0xpc3QoKSB7XHJcbiAgICBjb25zdCBkYXRlQ3JlYXRlZCA9IG5ldyBEYXRlKCksXHJcbiAgICAgIGlkID0gSWRDcmVhdG9yLmNyZWF0ZUF1dG9JZCgpO1xyXG4gICAgbGV0IHNob3BwaW5nTGlzdCA9IHtcclxuICAgICAgaWQ6IGlkLFxyXG4gICAgICBkYXRlQ3JlYXRlZDogZGF0ZUNyZWF0ZWQsXHJcbiAgICAgIHNob3BwaW5nTGlzdFVzZWQ6IGZhbHNlLFxyXG4gICAgICBzaG9wcGluZ0xpc3RJbmdyZWRpZW50czogW10sXHJcbiAgICAgIHNob3BwaW5nTGlzdEV4dHJhczogW11cclxuICAgIH1cclxuICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdTaG9wcGluZ0xpc3QnKS5kb2Moc2hvcHBpbmdMaXN0LmlkKS5zZXQoc2hvcHBpbmdMaXN0KVxyXG4gICAgICAudGhlbihkb2NSZWYgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2hvcHBpbmdMaXN0U2F2ZWQgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coXCJFcnJvciBhZGRpbmcgZG9jdW1lbnQ6IFwiLCBlcnJvcikpO1xyXG4gIH1cclxuICBzYXZlU2hvcHBpbmdMaXN0KCkge1xyXG4gICAgY29uc3Qgc2hvcHBpbmdMaXN0ID0gdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3Q7XHJcbiAgICBpZiAoc2hvcHBpbmdMaXN0LmlkKSB7XHJcbiAgICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdTaG9wcGluZ0xpc3QnKS5kb2Moc2hvcHBpbmdMaXN0LmlkKS5zZXQoc2hvcHBpbmdMaXN0KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2hvcHBpbmdMaXN0U2F2ZWQgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgdGhpcy5nZXRTaG9wcGluZ0xpc3QoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhcIkVycm9yIGFkZGluZyBkb2N1bWVudDogXCIsIGVycm9yKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG5ld1Nob3BwaW5nTGlzdCgpIHtcclxuICAgIGxldCBjb25maXJtUmVzcG9uc2UgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3b3VsZCBsaWtlIHRvIHN0YXJ0IGEgbmV3IHNob3BwaW5nIGxpc3Q/XCIpO1xyXG4gICAgaWYgKGNvbmZpcm1SZXNwb25zZSkge1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgbGV0IHNob3BwaW5nTGlzdCA9IHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0O1xyXG4gICAgICBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0VXNlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNob3BwaW5nTGlzdDogc2hvcHBpbmdMaXN0XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNhdmVTaG9wcGluZ0xpc3QoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcbiAgZGVsZXRlU2hvcHBpbmdMaXN0SW5ncmVkaWVudChpbmRleCl7XHJcbiAgICB2YXIgc2hvcHBpbmdMaXN0ID0gIE9iamVjdC5hc3NpZ24oe30sdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3QpO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvcHBpbmdMaXN0OnNob3BwaW5nTGlzdCB9KTtcclxuICB9XHJcbiAgZGVsZXRlU2hvcHBpbmdMaXN0RXh0cmEoaW5kZXgpe1xyXG4gICAgdmFyIHNob3BwaW5nTGlzdCA9ICBPYmplY3QuYXNzaWduKHt9LHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0KTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG9wcGluZ0xpc3Q6c2hvcHBpbmdMaXN0IH0pO1xyXG4gIH1cclxuICBjcmVhdGVSZWNpcGUoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuY3JlYXRlUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIHJlY2lwZUNsaWNrZWQocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQ7IH0pO1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3JlYXRpbmdTaG9wcGluZ0xpc3QpIHtcclxuICAgICAgZGVidWdnZXI7XHJcbiAgICAgIGxldCBzaG9wcGluZ0xpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0KSksXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMgPSBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMsXHJcbiAgICAgICAgaW5ncmVkaWVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkUmVjaXBlLmluZ3JlZGllbnRzKSk7O1xyXG5cclxuICAgICAgaWYgKHNob3BwaW5nTGlzdEluZ3JlZGllbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgbWF0Y2hlZEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHMuZmlsdGVyKGluZ3JlZGllbnQgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHNob3BwaW5nTGlzdEluZ3JlZGllbnRzLnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW0ubmFtZSA9PT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMuZm9yRWFjaChsaXN0SXRlbSA9PiB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlZEl0ZW0gPSBtYXRjaGVkSW5ncmVkaWVudHMuZmluZCh4ID0+IGxpc3RJdGVtLm5hbWUgPT09IHgubmFtZSk7XHJcbiAgICAgICAgICBpZiAobWF0Y2hlZEl0ZW0pIHtcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYW1vdW50ID0gTnVtYmVyKGxpc3RJdGVtLmFtb3VudCkgKyBOdW1iZXIobWF0Y2hlZEl0ZW0uYW1vdW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbGV0IG5ld0l0ZW1zID0gaW5ncmVkaWVudHMuZmlsdGVyKChpbmdyZWRpZW50KSA9PiB7IHJldHVybiBzaG9wcGluZ0xpc3QuZmluZEluZGV4KGluZ3JlZGllbnQubmFtZSkgPT0gLTE7IH0pXHJcbiAgICAgICAgY29uc3QgbmV3SXRlbXMgPSBpbmdyZWRpZW50cy5maWx0ZXIoaW5ncmVkaWVudCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIXNob3BwaW5nTGlzdEluZ3JlZGllbnRzLnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW0ubmFtZSA9PT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzID0gWy4uLnNob3BwaW5nTGlzdEluZ3JlZGllbnRzLCAuLi5uZXdJdGVtc107XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy52aWV3UmVjaXBlLFxyXG4gICAgICAgIHNlbGVjdGVkUmVjaXBlOiBzZWxlY3RlZFJlY2lwZVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVkaXRSZWNpcGUocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQgfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZWRpdFJlY2lwZSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHNlbGVjdGVkUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIG9uU3VibWl0KHJlY2lwZSkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuY3JlYXRlUmVjaXBlKSB7XHJcbiAgICAgIGxldCBuZXdSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpO1xyXG5cclxuICAgICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1JlY2lwZXMnKS5kb2MoKS5zZXQocmVjaXBlKVxyXG4gICAgICAgIC50aGVuKGRvY1JlZiA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2lwZSBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICB0aGlzLmdldFJlY2lwZXMoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhcIkVycm9yIGFkZGluZyBkb2N1bWVudDogXCIsIGVycm9yKSk7XHJcblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmVkaXRSZWNpcGUpIHtcclxuICAgICAgbGV0IGVkaXRlZFJlY2lwZSA9IHJlY2lwZSxcclxuICAgICAgICByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLnNsaWNlKCksXHJcbiAgICAgICAgY3VycmVudEluZGV4ID0gcmVjaXBlcy5maW5kSW5kZXgoKHJlY2lwZSkgPT4geyByZXR1cm4gcmVjaXBlLmlkID09PSBlZGl0ZWRSZWNpcGUuaWQgfSk7XHJcblxyXG4gICAgICByZWNpcGVzW2N1cnJlbnRJbmRleF0gPSBlZGl0ZWRSZWNpcGU7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICByZWNpcGVzOiByZWNpcGVzLFxyXG4gICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgICB9XHJcbiAgICAgICkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBncmlkTGF5b3V0KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmdyaWRMYXlvdXRcclxuICAgIH0pKTtcclxuICB9XHJcbiAgbGlzdExheW91dCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5saXN0TGF5b3V0XHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIGNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2KSA9PiAoe1xyXG4gICAgICBjcmVhdGluZ1Nob3BwaW5nTGlzdDogcHJldi5jcmVhdGluZ1Nob3BwaW5nTGlzdCA/IGZhbHNlIDogdHJ1ZVxyXG4gICAgfSkpXHJcbiAgfVxyXG4gIGFkZFNob3BwaW5nTGlzdEV4dHJhcyhzaG9wcGluZ0xpc3RFeHRyYXMpIHtcclxuICAgIGlmIChzaG9wcGluZ0xpc3RFeHRyYXMpIHtcclxuICAgICAgbGV0IHNob3BwaW5nTGlzdCA9IHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0O1xyXG4gICAgICBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0RXh0cmFzID0gc2hvcHBpbmdMaXN0RXh0cmFzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuICBsb2dPdXRDbGlja2VkKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGF1dGguc2lnbk91dCgpO1xyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICB2YXIgcmVjaXBlcyxcclxuICAgICAgY29udGVudCxcclxuICAgICAgd3JhcHBlcixcclxuICAgICAgbmF2ID0gPFJlY2lwZU5hdlxyXG4gICAgICAgIGNyZWF0ZVJlY2lwZT17dGhpcy5jcmVhdGVSZWNpcGV9XHJcbiAgICAgICAgY3JlYXRlU2hvcHBpbmdMaXN0PXt0aGlzLmNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWR9XHJcbiAgICAgICAgZ3JpZExheW91dD17dGhpcy5ncmlkTGF5b3V0fVxyXG4gICAgICAgIGxpc3RMYXlvdXQ9e3RoaXMubGlzdExheW91dH0gLz47XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXV0aFVzZXIpIHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZ3JpZExheW91dCB8fCB0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmxpc3RMYXlvdXQpIHtcclxuICAgICAgICByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLm1hcCgocmVjaXBlLCBpbmRleCkgPT5cclxuICAgICAgICAgIDxSZWNpcGVJdGVtIG9uQ2xpY2s9e3RoaXMucmVjaXBlQ2xpY2tlZH0gcmVjaXBlPXtyZWNpcGV9IGtleT17aW5kZXh9IC8+LFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29udGVudCA9IDxkaXYgaWQ9e3RoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZ3JpZExheW91dCA/ICdyZWNpcGUtYm9vay1ncmlkJyA6ICdyZWNpcGUtYm9vay1saXN0J30+XHJcbiAgICAgICAgICB7cmVjaXBlc31cclxuICAgICAgICA8L2Rpdj47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGUpIHtcclxuICAgICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLm5ld1JlY2lwZX1cclxuICAgICAgICAgIC8vIG5ld0luZ3JlZGllbnROYW1lPXt0aGlzLnN0YXRlLm5ld0luZ3JlZGllbnROYW1lfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VkfVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgICAgb25EZWxldGU9e3RoaXMuaW5ncmVkaWVudE9uRGVsZXRlfVxyXG4gICAgICAgICAgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9IC8+O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3Mudmlld1JlY2lwZSkge1xyXG4gICAgICAgIGNvbnRlbnQgPSA8UmVjaXBlVmlldyByZWNpcGU9e3RoaXMuc3RhdGUuc2VsZWN0ZWRSZWNpcGV9IG9uQ2xpY2s9e3RoaXMuZWRpdFJlY2lwZX0gLz47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5lZGl0UmVjaXBlKSB7XHJcbiAgICAgICAgY29udGVudCA9IDxSZWNpcGVGb3JtIHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX1cclxuICAgICAgICAgIG5ld0luZ3JlZGllbnROYW1lPXt0aGlzLnN0YXRlLm5ld0luZ3JlZGllbnROYW1lfVxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VkfVxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgICAgb25EZWxldGU9e3RoaXMuaW5ncmVkaWVudE9uRGVsZXRlfVxyXG4gICAgICAgICAgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9IC8+O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNyZWF0aW5nU2hvcHBpbmdMaXN0KSB7XHJcbiAgICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7bmF2fVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tZmxleC13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaG9wcGluZy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8U2hvcHBpbmdMaXN0IHNob3BwaW5nTGlzdD17dGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHN9XHJcbiAgICAgICAgICAgICAgICAgc2hvcHBpbmdMaXN0RXh0cmFzPXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXN9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzfVxyXG4gICAgICAgICAgICAgICAgICBvblNhdmU9e3RoaXMuc2F2ZVNob3BwaW5nTGlzdH1cclxuICAgICAgICAgICAgICAgICAgZGVsZXRlU2hvcHBpbmdMaXN0SW5ncmVkaWVudD17dGhpcy5kZWxldGVTaG9wcGluZ0xpc3RJbmdyZWRpZW50fVxyXG4gICAgICAgICAgICAgICAgICBkZWxldGVTaG9wcGluZ0xpc3RFeHRyYT17dGhpcy5kZWxldGVTaG9wcGluZ0xpc3RFeHRyYX1cclxuICAgICAgICAgICAgICAgICBjcmVhdGVOZXdTaG9wcGluZ0xpc3Q9e3RoaXMubmV3U2hvcHBpbmdMaXN0fSAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWJvb2std3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICB7bmF2fVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4td3JhcHBlclwiPiB7Y29udGVudH08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmxvZ091dENsaWNrZWR9PkxvZyBPdXQ8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3cmFwcGVyID1cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPExvZ2luIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3cmFwcGVyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuey8qIDxkaXYgY2xhc3M9XCJtYXgtNjAwXCI+bWF4LXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi02MDBcIj5taW4td2lkdGg6IDYwMHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTc2OFwiPm1pbi13aWR0aDogNzY4cHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tOTkyXCI+bWluLXdpZHRoOiA5OTJweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi0xMjAwXCI+bWluLXdpZHRoOiAxMjAwcHg8L2Rpdj5cclxuICAgICAgIDwvZGl2PiAqL31cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxSZWNpcGVQYWdlIC8+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTsiXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///60\\n\")}});","extractedComments":[]}