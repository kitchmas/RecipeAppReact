{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{61:function(module,exports,__webpack_require__){\"use strict\";eval(\"var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(59),_reactDom2=_interopRequireDefault(_reactDom),_firebase=__webpack_require__(15),_IdCreator=__webpack_require__(37),_RecipeItem=__webpack_require__(36),_RecipeForm=__webpack_require__(32),_RecipeView=__webpack_require__(27),_nav=__webpack_require__(26),_ShoppingList=__webpack_require__(21),_login=__webpack_require__(20),_reactTextareaAutosize=__webpack_require__(11),_reactTextareaAutosize2=_interopRequireDefault(_reactTextareaAutosize);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var RecipePage=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={isLoading:!0,authUser:null,currentView:1,views:{home:1,shoppingList:2,createRecipe:3,editRecipe:4,viewRecipe:5},currentLayout:1,layouts:{grid:1,list:2},selectedRecipe:{},recipes:[],newRecipe:{name:'',description:'',newIngredientName:'',method:'',ingredients:[]},creatingShoppingList:!1,shoppingList:null},c.onSubmit=c.onSubmit.bind(c),c.createRecipe=c.createRecipe.bind(c),c.recipeClicked=c.recipeClicked.bind(c),c.homeClicked=c.homeClicked.bind(c),c.editRecipe=c.editRecipe.bind(c),c.gridLayout=c.gridLayout.bind(c),c.listLayout=c.listLayout.bind(c),c.layoutTogglerClicked=c.layoutTogglerClicked.bind(c),c.createShoppingListClicked=c.createShoppingListClicked.bind(c),c.addShoppingListExtras=c.addShoppingListExtras.bind(c),c.logOutClicked=c.logOutClicked.bind(c),c.saveShoppingList=c.saveShoppingList.bind(c),c.newShoppingList=c.newShoppingList.bind(c),c.deleteShoppingListIngredient=c.deleteShoppingListIngredient.bind(c),c.deleteShoppingListExtra=c.deleteShoppingListExtra.bind(c),c.crossOutShoppingListIngredient=c.crossOutShoppingListIngredient.bind(c),c.crossOutShoppingListExtra=c.crossOutShoppingListExtra.bind(c),c}return _inherits(b,a),_createClass(b,[{key:'showLoading',value:function showLoading(){this.setState({isLoading:!0})}},{key:'hideLoading',value:function hideLoading(){this.setState({isLoading:!1})}},{key:'getRecipes',value:function getRecipes(){var a=this;this.showLoading(),_firebase.firestore.collection('Recipes').get().then(function(b){var c=b.docs.map(function(a){var b=a.data();return b.id=a.id,b});a.setState(function(a){return{recipes:c,currentView:a.views.home}}),a.hideLoading()})}},{key:'getShoppingList',value:function getShoppingList(a){var b=this;this.showLoading(),_firebase.firestore.collection('ShoppingList').where('shoppingListUsed','==',!1).get().then(function(c){if(1===c.docs.length){var d=c.docs[0].data();b.setState({shoppingList:d}),a&&a(),b.hideLoading()}else b.createNewShoppingList()})}},{key:'createNewShoppingList',value:function createNewShoppingList(){var a=this,b=new Date,c=_IdCreator.IdCreator.createAutoId(),d={id:c,dateCreated:b,shoppingListUsed:!1,shoppingListIngredients:[],shoppingListExtras:[]};this.showLoading(),_firebase.firestore.collection('ShoppingList').doc(d.id).set(d).then(function(){console.log('ShoppingListSaved saved successfully'),a.setState({shoppingList:d}),a.hideLoading()}).catch(function(a){return console.log('Error adding document: ',a)})}},{key:'saveShoppingList',value:function saveShoppingList(){var a=this.state.shoppingList;a.id&&_firebase.firestore.collection('ShoppingList').doc(a.id).set(a).then(function(){}).catch(function(a){return console.log('Error adding document: ',a)})}},{key:'newShoppingList',value:function newShoppingList(){var a=confirm('Are you sure you would like to start a new shopping list?');if(a){var b=this.state.shoppingList;b.shoppingListUsed=!0,this.setState({shoppingList:b}),this.saveShoppingList()}else return}},{key:'deleteShoppingListIngredient',value:function deleteShoppingListIngredient(a){var b=Object.assign({},this.state.shoppingList);-1<a&&b.shoppingListIngredients.splice(a,1),this.setState({shoppingList:b})}},{key:'crossOutShoppingListIngredient',value:function crossOutShoppingListIngredient(a){var b=this,c=Object.assign({},this.state.shoppingList);-1<a&&(c.shoppingListIngredients[parseInt(a)].crossedOut=!c.shoppingListIngredients[parseInt(a)].crossedOut),this.setState({shoppingList:c},function(){b.saveShoppingList()})}},{key:'deleteShoppingListExtra',value:function deleteShoppingListExtra(a){var b=this,c=Object.assign({},this.state.shoppingList);-1<a&&c.shoppingListExtras.splice(a,1),this.setState({shoppingList:c},function(){b.saveShoppingList()})}},{key:'crossOutShoppingListExtra',value:function crossOutShoppingListExtra(a){var b=this,c=Object.assign({},this.state.shoppingList);-1<a&&(c.shoppingListExtras[parseInt(a)].crossedOut=!c.shoppingListExtras[parseInt(a)].crossedOut),this.setState({shoppingList:c},function(){b.saveShoppingList()})}},{key:'createRecipe',value:function createRecipe(){this.setState(function(a){return{currentView:a.views.createRecipe}})}},{key:'recipeClicked',value:function recipeClicked(a){var b=this.state.recipes.find(function(b){return b.id===a});if(this.state.creatingShoppingList){var c=JSON.parse(JSON.stringify(this.state.shoppingList)),d=c.shoppingListIngredients,e=JSON.parse(JSON.stringify(b.ingredients));if(0<d.length){var f=e.filter(function(a){return d.some(function(b){return b.name===a.name})});d.forEach(function(a){var b=f.find(function(b){return a.name===b.name});b&&(a.amount=+a.amount+ +b.amount)});var g=e.filter(function(a){return!d.some(function(b){return b.name===a.name})});c.shoppingListIngredients=[].concat(_toConsumableArray(d),_toConsumableArray(g)),this.setState(function(){return{shoppingList:c}})}else c.shoppingListIngredients=e,this.setState(function(){return{shoppingList:c}})}else this.setState(function(a){return{currentView:a.views.viewRecipe,selectedRecipe:b}})}},{key:'editRecipe',value:function editRecipe(a){var b=this.state.recipes.find(function(b){return b.id===a});this.setState(function(a){return{currentView:a.views.editRecipe,selectedRecipe:b}})}},{key:'onSubmit',value:function onSubmit(a){var b=this;if(this.state.currentView===this.state.views.createRecipe){this.state.recipes.slice();this.showLoading(),_firebase.firestore.collection('Recipes').doc().set(a).then(function(){console.log('Recipe saved successfully'),b.showLoading(),b.getRecipes()}).catch(function(a){return console.log('Error adding document: ',a)})}else if(this.state.currentView===this.state.views.editRecipe){var c=a,d=this.state.recipes.slice(),e=d.findIndex(function(a){return a.id===c.id});d[e]=c,this.setState(function(a){return{recipes:d,currentView:a.views.home}})}}},{key:'layoutTogglerClicked',value:function layoutTogglerClicked(){this.setState(function(a){return{currentLayout:a.currentLayout===a.layouts.grid?a.layouts.list:a.layouts.grid}})}},{key:'homeClicked',value:function homeClicked(){this.setState(function(a){return{currentView:a.views.home}})}},{key:'gridLayout',value:function gridLayout(){this.setState(function(a){return{currentView:a.views.gridLayout}})}},{key:'listLayout',value:function listLayout(){this.setState(function(a){return{currentView:a.views.listLayout}})}},{key:'createShoppingListClicked',value:function createShoppingListClicked(){var a=this;this.setState(function(){return{currentView:a.state.views.shoppingList}})}},{key:'addShoppingListExtras',value:function addShoppingListExtras(a){var b=this;if(a){var c=this.state.shoppingList;c.shoppingListExtras=a,this.setState({shoppingList:c},function(){b.saveShoppingList()})}else return}},{key:'logOutClicked',value:function logOutClicked(a){a.preventDefault(),_firebase.auth.signOut()}},{key:'componentDidMount',value:function componentDidMount(){var a=this;this.setState({isLoading:!1}),_firebase.auth.onAuthStateChanged(function(b){b?(a.setState(function(){return{authUser:b}}),a.getRecipes(),a.getShoppingList()):a.setState(function(){return{authUser:null}})})}},{key:'render',value:function render(){var a,b,c,d=this,e=_react2.default.createElement(_nav.RecipeNav,{createRecipe:this.createRecipe,createShoppingList:this.createShoppingListClicked,homeClicked:this.homeClicked});if(this.state.isLoading)return _react2.default.createElement('div',null,'Loading ...');if(this.state.authUser){debugger;if(this.state.currentView===this.state.views.home?(a=this.state.recipes.map(function(a,b){return _react2.default.createElement(_RecipeItem.RecipeItem,{onClick:d.recipeClicked,recipe:a,key:b})}),b=_react2.default.createElement('div',{id:this.state.currentLayout===this.state.layouts.grid?'recipe-book-grid':'recipe-book-list'},_react2.default.createElement('div',{class:'layout-toggler',onClick:this.layoutTogglerClicked},_react2.default.createElement('i',{className:this.state.currentLayout===this.state.layouts.grid?'fas fa-th':'fas fa-list'})),a)):this.state.currentView===this.state.views.createRecipe?b=_react2.default.createElement(_RecipeForm.RecipeForm,{recipe:this.state.newRecipe,onChange:this.handleInputChanged,onClick:this.addIngredient,onDelete:this.ingredientOnDelete,onSubmit:this.onSubmit}):this.state.currentView===this.state.views.viewRecipe?b=_react2.default.createElement(_RecipeView.RecipeView,{recipe:this.state.selectedRecipe,onClick:this.editRecipe}):this.state.currentView===this.state.views.editRecipe&&(b=_react2.default.createElement(_RecipeForm.RecipeForm,{recipe:this.state.selectedRecipe,newIngredientName:this.state.newIngredientName,onChange:this.handleInputChanged,onClick:this.addIngredient,onDelete:this.ingredientOnDelete,onSubmit:this.onSubmit})),this.state.currentView===this.state.views.shoppingList){debugger;a=this.state.recipes.map(function(a,b){return _react2.default.createElement(_RecipeItem.RecipeItem,{onClick:d.recipeClicked,recipe:a,key:b})}),c=_react2.default.createElement('div',null,e,_react2.default.createElement('div',{className:'main-flex-wrapper'},_react2.default.createElement('div',{className:'shopping-wrapper'},_react2.default.createElement(_ShoppingList.ShoppingList,{shoppingList:this.state.shoppingList.shoppingListIngredients,shoppingListExtras:this.state.shoppingList.shoppingListExtras,onClick:this.addShoppingListExtras,deleteShoppingListIngredient:this.deleteShoppingListIngredient,deleteShoppingListExtra:this.deleteShoppingListExtra,crossOutShoppingListIngredient:this.crossOutShoppingListIngredient,crossOutShoppingListExtra:this.crossOutShoppingListExtra,createNewShoppingList:this.newShoppingList})),_react2.default.createElement('div',{id:this.state.currentLayout===this.state.layouts.grid?'recipe-book-grid':'recipe-book-list'})))}else c=_react2.default.createElement('div',null,e,_react2.default.createElement('div',{className:'main-wrapper'},' ',b),_react2.default.createElement('button',{className:'recipe-button log-out-button',onClick:this.logOutClicked},'Log Out'))}else c=_react2.default.createElement('div',null,_react2.default.createElement(_login.Login,null));return c}}]),b}(_react2.default.Component);_reactDom2.default.render(_react2.default.createElement(RecipePage,null),document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJzdGF0ZSIsImlzTG9hZGluZyIsImF1dGhVc2VyIiwiY3VycmVudFZpZXciLCJ2aWV3cyIsImhvbWUiLCJzaG9wcGluZ0xpc3QiLCJjcmVhdGVSZWNpcGUiLCJlZGl0UmVjaXBlIiwidmlld1JlY2lwZSIsImN1cnJlbnRMYXlvdXQiLCJsYXlvdXRzIiwiZ3JpZCIsImxpc3QiLCJzZWxlY3RlZFJlY2lwZSIsInJlY2lwZXMiLCJuZXdSZWNpcGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJuZXdJbmdyZWRpZW50TmFtZSIsIm1ldGhvZCIsImluZ3JlZGllbnRzIiwiY3JlYXRpbmdTaG9wcGluZ0xpc3QiLCJvblN1Ym1pdCIsImJpbmQiLCJyZWNpcGVDbGlja2VkIiwiaG9tZUNsaWNrZWQiLCJncmlkTGF5b3V0IiwibGlzdExheW91dCIsImxheW91dFRvZ2dsZXJDbGlja2VkIiwiY3JlYXRlU2hvcHBpbmdMaXN0Q2xpY2tlZCIsImFkZFNob3BwaW5nTGlzdEV4dHJhcyIsImxvZ091dENsaWNrZWQiLCJzYXZlU2hvcHBpbmdMaXN0IiwibmV3U2hvcHBpbmdMaXN0IiwiZGVsZXRlU2hvcHBpbmdMaXN0SW5ncmVkaWVudCIsImRlbGV0ZVNob3BwaW5nTGlzdEV4dHJhIiwiY3Jvc3NPdXRTaG9wcGluZ0xpc3RJbmdyZWRpZW50IiwiY3Jvc3NPdXRTaG9wcGluZ0xpc3RFeHRyYSIsInNldFN0YXRlIiwic2hvd0xvYWRpbmciLCJjb2xsZWN0aW9uIiwiZ2V0IiwidGhlbiIsImRvY3MiLCJtYXAiLCJkYXRhIiwiaWQiLCJoaWRlTG9hZGluZyIsIndoZXJlIiwibGVuZ3RoIiwiY3JlYXRlTmV3U2hvcHBpbmdMaXN0IiwiRGF0ZSIsImNyZWF0ZUF1dG9JZCIsImRhdGVDcmVhdGVkIiwic2hvcHBpbmdMaXN0VXNlZCIsInNob3BwaW5nTGlzdEluZ3JlZGllbnRzIiwic2hvcHBpbmdMaXN0RXh0cmFzIiwiZG9jIiwic2V0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiY29uZmlybSIsIk9iamVjdCIsImFzc2lnbiIsInNwbGljZSIsInBhcnNlSW50IiwiY3Jvc3NlZE91dCIsImZpbmQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJmaWx0ZXIiLCJzb21lIiwiZm9yRWFjaCIsImFtb3VudCIsInNsaWNlIiwiZ2V0UmVjaXBlcyIsImZpbmRJbmRleCIsInByZXZlbnREZWZhdWx0Iiwic2lnbk91dCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImdldFNob3BwaW5nTGlzdCIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImFkZEluZ3JlZGllbnQiLCJpbmdyZWRpZW50T25EZWxldGUiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiZ21EQWNNQSxXLGFBQ0osYUFBbUIsMkhBRWpCLEdBQUtDLEtBQUwsQ0FBYSxDQUNYQyxZQURXLENBRVhDLFNBQVUsSUFGQyxDQUdYQyxZQUFhLENBSEYsQ0FJWEMsTUFBTyxDQUFFQyxLQUFNLENBQVIsQ0FBV0MsYUFBYyxDQUF6QixDQUE0QkMsYUFBYyxDQUExQyxDQUE2Q0MsV0FBWSxDQUF6RCxDQUE0REMsV0FBWSxDQUF4RSxDQUpJLENBS1hDLGNBQWUsQ0FMSixDQU1YQyxRQUFTLENBQUVDLEtBQU0sQ0FBUixDQUFXQyxLQUFNLENBQWpCLENBTkUsQ0FPWEMsZUFBZ0IsRUFQTCxDQVFYQyxRQUFTLEVBUkUsQ0FTWEMsVUFBVyxDQUNUQyxLQUFNLEVBREcsQ0FFVEMsWUFBYSxFQUZKLENBR1RDLGtCQUFtQixFQUhWLENBSVRDLE9BQVEsRUFKQyxDQUtUQyxZQUFhLEVBTEosQ0FUQSxDQWdCWEMsdUJBaEJXLENBaUJYaEIsYUFBYyxJQWpCSCxDQUZJLENBcUJqQixFQUFLaUIsUUFBTCxDQUFnQixFQUFLQSxRQUFMLENBQWNDLElBQWQsR0FyQkMsQ0FzQmpCLEVBQUtqQixZQUFM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U0FDQSxFQUFVLEtBQUtOLEtBQUwsQ0FBV2UsT0FBWCxDQUFtQjhCLEdBQW5CLENBQXVCLG9CQUMvQix1REFBWSxRQUFTLEVBQUtwQixhQUExQixDQUF5QyxRQUF6QyxDQUF5RCxLQUF6RCxFQUQrQixDQUF2QixDQUZrRCxDQU01RCxFQUNFLDJDQUVFLHFDQUFLLFVBQVUsbUJBQWYsRUFDRSxxQ0FBSyxVQUFVLGtCQUFmLEVBQ0UsMERBQWMsYUFBYyxLQUFLekIsS0FBTCxDQUFXTSxZQUFYLENBQXdCa0QsdUJBQXBELENBQ0UsbUJBQW9CLEtBQUt4RCxLQUFMLENBQVdNLFlBQVgsQ0FBd0JtRCxrQkFEOUMsQ0FFRSxRQUFTLEtBQUsxQixxQkFGaEIsQ0FHRSw2QkFBOEIsS0FBS0ksNEJBSHJDLENBSUUsd0JBQXlCLEtBQUtDLHVCQUpoQyxDQUtFLCtCQUFnQyxLQUFLQyw4QkFMdkMsQ0FNRSwwQkFBMkIsS0FBS0MseUJBTmxDLENBT0Usc0JBQXVCLEtBQUtKLGVBUDlCLEVBREYsQ0FERixDQVlFLHFDQUFLLEdBQUksS0FBS2xDLEtBQUwsQ0FBV1UsYUFBWCxHQUE2QixLQUFLVixLQUFMLENBQVdXLE9BQVgsQ0FBbUJDLElBQWhELENBQXVELGtCQUF2RCxDQUE0RSxrQkFBckYsRUFaRixDQUZGLENBa0JILENBekJELElBMEJFLEdBQ0UsMkNBRUUscUNBQUssVUFBVSxjQUFmLFFBRkYsQ0FHRSx3Q0FBUSxVQUFVLDhCQUFsQixDQUFpRCxRQUFTLEtBQUtvQixhQUEvRCxZQUhGLENBTUwsQ0FqRUQsSUFrRUUsR0FDRSx5Q0FDRSxnREFERixDQW5FSixDQXVFQSxRQUdELEMsT0FqWnNCLGdCQUFNdUQsUyxFQTRaL0IsbUJBQVNDLE1BQVQsQ0FBZ0IsOEJBQUMsVUFBRCxNQUFoQixDQUNFQyxTQUFTQyxjQUFULENBQXdCLE1BQXhCLENBREYsQyIsImZpbGUiOiI2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSwgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyByZWNpcGVEQiB9IGZyb20gJy4vZmlyZWJhc2UuanN4JztcclxuaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSAnLi9maXJlYmFzZS5qc3gnO1xyXG5pbXBvcnQgeyBJZENyZWF0b3IgfSBmcm9tICcuL0lkQ3JlYXRvci5qcyc7XHJcbmltcG9ydCB7IFJlY2lwZUl0ZW0gfSBmcm9tICcuL1JlY2lwZUl0ZW0uanN4JztcclxuaW1wb3J0IHsgUmVjaXBlRm9ybSB9IGZyb20gJy4vUmVjaXBlRm9ybS5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVWaWV3IH0gZnJvbSAnLi9SZWNpcGVWaWV3LmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZU5hdiB9IGZyb20gJy4vbmF2LmpzeCc7XHJcbmltcG9ydCB7IFNob3BwaW5nTGlzdCB9IGZyb20gJy4vU2hvcHBpbmdMaXN0LmpzeCc7XHJcbmltcG9ydCB7IExvZ2luIH0gZnJvbSAnLi9sb2dpbi5qc3gnO1xyXG5pbXBvcnQgVGV4dGFyZWEgZnJvbSBcInJlYWN0LXRleHRhcmVhLWF1dG9zaXplXCI7XHJcblxyXG5jbGFzcyBSZWNpcGVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxyXG4gICAgICBhdXRoVXNlcjogbnVsbCxcclxuICAgICAgY3VycmVudFZpZXc6IDEsXHJcbiAgICAgIHZpZXdzOiB7IGhvbWU6IDEsIHNob3BwaW5nTGlzdDogMiwgY3JlYXRlUmVjaXBlOiAzLCBlZGl0UmVjaXBlOiA0LCB2aWV3UmVjaXBlOiA1IH0sXHJcbiAgICAgIGN1cnJlbnRMYXlvdXQ6IDEsXHJcbiAgICAgIGxheW91dHM6IHsgZ3JpZDogMSwgbGlzdDogMiB9LFxyXG4gICAgICBzZWxlY3RlZFJlY2lwZToge30sXHJcbiAgICAgIHJlY2lwZXM6IFtdLFxyXG4gICAgICBuZXdSZWNpcGU6IHtcclxuICAgICAgICBuYW1lOiBcIlwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgICAgIG5ld0luZ3JlZGllbnROYW1lOiBcIlwiLFxyXG4gICAgICAgIG1ldGhvZDogXCJcIixcclxuICAgICAgICBpbmdyZWRpZW50czogW11cclxuICAgICAgfSxcclxuICAgICAgY3JlYXRpbmdTaG9wcGluZ0xpc3Q6IGZhbHNlLFxyXG4gICAgICBzaG9wcGluZ0xpc3Q6IG51bGxcclxuICAgIH1cclxuICAgIHRoaXMub25TdWJtaXQgPSB0aGlzLm9uU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmNyZWF0ZVJlY2lwZSA9IHRoaXMuY3JlYXRlUmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnJlY2lwZUNsaWNrZWQgPSB0aGlzLnJlY2lwZUNsaWNrZWQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaG9tZUNsaWNrZWQgPSB0aGlzLmhvbWVDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmVkaXRSZWNpcGUgPSB0aGlzLmVkaXRSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuZ3JpZExheW91dCA9IHRoaXMuZ3JpZExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5saXN0TGF5b3V0ID0gdGhpcy5saXN0TGF5b3V0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxheW91dFRvZ2dsZXJDbGlja2VkID0gdGhpcy5sYXlvdXRUb2dnbGVyQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmFkZFNob3BwaW5nTGlzdEV4dHJhcyA9IHRoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxvZ091dENsaWNrZWQgPSB0aGlzLmxvZ091dENsaWNrZWQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuc2F2ZVNob3BwaW5nTGlzdCA9IHRoaXMuc2F2ZVNob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5uZXdTaG9wcGluZ0xpc3QgPSB0aGlzLm5ld1Nob3BwaW5nTGlzdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5kZWxldGVTaG9wcGluZ0xpc3RJbmdyZWRpZW50ID0gdGhpcy5kZWxldGVTaG9wcGluZ0xpc3RJbmdyZWRpZW50LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmRlbGV0ZVNob3BwaW5nTGlzdEV4dHJhID0gdGhpcy5kZWxldGVTaG9wcGluZ0xpc3RFeHRyYS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcm9zc091dFNob3BwaW5nTGlzdEluZ3JlZGllbnQgPSB0aGlzLmNyb3NzT3V0U2hvcHBpbmdMaXN0SW5ncmVkaWVudC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcm9zc091dFNob3BwaW5nTGlzdEV4dHJhID0gdGhpcy5jcm9zc091dFNob3BwaW5nTGlzdEV4dHJhLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIHNob3dMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXRSZWNpcGVzKCkge1xyXG4gICAgdGhpcy5zaG93TG9hZGluZygpO1xyXG4gICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1JlY2lwZXMnKS5nZXQoKS50aGVuKHF1ZXJ5U25hcHNob3QgPT4ge1xyXG4gICAgICBsZXQgcmVjaXBlcyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcclxuICAgICAgICBsZXQgcmVjaXBlID0gZG9jLmRhdGEoKTtcclxuICAgICAgICByZWNpcGUuaWQgPSBkb2MuaWQ7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgICByZWNpcGVzOiByZWNpcGVzLFxyXG4gICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuaG9tZVxyXG4gICAgICB9XHJcbiAgICAgICkpO1xyXG4gICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZ2V0U2hvcHBpbmdMaXN0KGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICBmaXJlc3RvcmUuY29sbGVjdGlvbignU2hvcHBpbmdMaXN0Jykud2hlcmUoXCJzaG9wcGluZ0xpc3RVc2VkXCIsICc9PScsIGZhbHNlKS5nZXQoKS50aGVuKHF1ZXJ5U25hcHNob3QgPT4ge1xyXG4gICAgICBpZiAocXVlcnlTbmFwc2hvdC5kb2NzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGxldCBzaG9wcGluZ0xpc3QgPSBxdWVyeVNuYXBzaG90LmRvY3NbMF0uZGF0YSgpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZU5ld1Nob3BwaW5nTGlzdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY3JlYXRlTmV3U2hvcHBpbmdMaXN0KCkge1xyXG4gICAgY29uc3QgZGF0ZUNyZWF0ZWQgPSBuZXcgRGF0ZSgpLFxyXG4gICAgICBpZCA9IElkQ3JlYXRvci5jcmVhdGVBdXRvSWQoKTtcclxuICAgIGxldCBzaG9wcGluZ0xpc3QgPSB7XHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgZGF0ZUNyZWF0ZWQ6IGRhdGVDcmVhdGVkLFxyXG4gICAgICBzaG9wcGluZ0xpc3RVc2VkOiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHM6IFtdLFxyXG4gICAgICBzaG9wcGluZ0xpc3RFeHRyYXM6IFtdXHJcbiAgICB9XHJcbiAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICBmaXJlc3RvcmUuY29sbGVjdGlvbignU2hvcHBpbmdMaXN0JykuZG9jKHNob3BwaW5nTGlzdC5pZCkuc2V0KHNob3BwaW5nTGlzdClcclxuICAgICAgLnRoZW4oZG9jUmVmID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNob3BwaW5nTGlzdFNhdmVkIHNhdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHNob3BwaW5nTGlzdDogc2hvcHBpbmdMaXN0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oaWRlTG9hZGluZygpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coXCJFcnJvciBhZGRpbmcgZG9jdW1lbnQ6IFwiLCBlcnJvcikpO1xyXG4gIH1cclxuICBzYXZlU2hvcHBpbmdMaXN0KCkge1xyXG4gICAgY29uc3Qgc2hvcHBpbmdMaXN0ID0gdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3Q7XHJcbiAgICBpZiAoc2hvcHBpbmdMaXN0LmlkKSB7XHJcbiAgICAgIC8vIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgZmlyZXN0b3JlLmNvbGxlY3Rpb24oJ1Nob3BwaW5nTGlzdCcpLmRvYyhzaG9wcGluZ0xpc3QuaWQpLnNldChzaG9wcGluZ0xpc3QpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJTaG9wcGluZ0xpc3RTYXZlZCBzYXZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAvLyB0aGlzLmdldFNob3BwaW5nTGlzdCgpO1xyXG4gICAgICAgICAgLy8gdGhpcy5oaWRlTG9hZGluZygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKFwiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiBcIiwgZXJyb3IpKTtcclxuICAgIH1cclxuICB9XHJcbiAgbmV3U2hvcHBpbmdMaXN0KCkge1xyXG4gICAgbGV0IGNvbmZpcm1SZXNwb25zZSA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdvdWxkIGxpa2UgdG8gc3RhcnQgYSBuZXcgc2hvcHBpbmcgbGlzdD9cIik7XHJcbiAgICBpZiAoY29uZmlybVJlc3BvbnNlKSB7XHJcbiAgICAgIGxldCBzaG9wcGluZ0xpc3QgPSB0aGlzLnN0YXRlLnNob3BwaW5nTGlzdDtcclxuICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdFVzZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zYXZlU2hvcHBpbmdMaXN0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRlbGV0ZVNob3BwaW5nTGlzdEluZ3JlZGllbnQoaW5kZXgpIHtcclxuICAgIHZhciBzaG9wcGluZ0xpc3QgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLnNob3BwaW5nTGlzdCk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdCB9KTtcclxuICB9XHJcbiAgY3Jvc3NPdXRTaG9wcGluZ0xpc3RJbmdyZWRpZW50KGluZGV4KSB7XHJcbiAgICB2YXIgc2hvcHBpbmdMaXN0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3QpO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzW3BhcnNlSW50KGluZGV4KV0uY3Jvc3NlZE91dCA9IHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RJbmdyZWRpZW50c1twYXJzZUludChpbmRleCldLmNyb3NzZWRPdXQgPyBmYWxzZSA6IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgeyBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdCB9LFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zYXZlU2hvcHBpbmdMaXN0KCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBkZWxldGVTaG9wcGluZ0xpc3RFeHRyYShpbmRleCkge1xyXG4gICAgdmFyIHNob3BwaW5nTGlzdCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0KTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBzaG9wcGluZ0xpc3Q6IHNob3BwaW5nTGlzdFxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNhdmVTaG9wcGluZ0xpc3QoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjcm9zc091dFNob3BwaW5nTGlzdEV4dHJhKGluZGV4KSB7XHJcbiAgICB2YXIgc2hvcHBpbmdMaXN0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3QpO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEV4dHJhc1twYXJzZUludChpbmRleCldLmNyb3NzZWRPdXQgPSBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0RXh0cmFzW3BhcnNlSW50KGluZGV4KV0uY3Jvc3NlZE91dCA/IGZhbHNlIDogdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgIHsgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3QgfSxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2F2ZVNob3BwaW5nTGlzdCgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgY3JlYXRlUmVjaXBlKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmNyZWF0ZVJlY2lwZVxyXG4gICAgfSkpO1xyXG4gIH1cclxuICByZWNpcGVDbGlja2VkKHJlY2lwZUlkKSB7XHJcbiAgICB2YXIgc2VsZWN0ZWRSZWNpcGUgPSB0aGlzLnN0YXRlLnJlY2lwZXMuZmluZCgocmVjaXBlKSA9PiB7IHJldHVybiByZWNpcGUuaWQgPT09IHJlY2lwZUlkOyB9KTtcclxuICAgIGlmICh0aGlzLnN0YXRlLmNyZWF0aW5nU2hvcHBpbmdMaXN0KSB7XHJcbiAgICAgIGxldCBzaG9wcGluZ0xpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuc2hvcHBpbmdMaXN0KSksXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMgPSBzaG9wcGluZ0xpc3Quc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMsXHJcbiAgICAgICAgaW5ncmVkaWVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkUmVjaXBlLmluZ3JlZGllbnRzKSk7O1xyXG5cclxuICAgICAgaWYgKHNob3BwaW5nTGlzdEluZ3JlZGllbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgbWF0Y2hlZEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHMuZmlsdGVyKGluZ3JlZGllbnQgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHNob3BwaW5nTGlzdEluZ3JlZGllbnRzLnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW0ubmFtZSA9PT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0SW5ncmVkaWVudHMuZm9yRWFjaChsaXN0SXRlbSA9PiB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlZEl0ZW0gPSBtYXRjaGVkSW5ncmVkaWVudHMuZmluZCh4ID0+IGxpc3RJdGVtLm5hbWUgPT09IHgubmFtZSk7XHJcbiAgICAgICAgICBpZiAobWF0Y2hlZEl0ZW0pIHtcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYW1vdW50ID0gTnVtYmVyKGxpc3RJdGVtLmFtb3VudCkgKyBOdW1iZXIobWF0Y2hlZEl0ZW0uYW1vdW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbGV0IG5ld0l0ZW1zID0gaW5ncmVkaWVudHMuZmlsdGVyKChpbmdyZWRpZW50KSA9PiB7IHJldHVybiBzaG9wcGluZ0xpc3QuZmluZEluZGV4KGluZ3JlZGllbnQubmFtZSkgPT0gLTE7IH0pXHJcbiAgICAgICAgY29uc3QgbmV3SXRlbXMgPSBpbmdyZWRpZW50cy5maWx0ZXIoaW5ncmVkaWVudCA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gIXNob3BwaW5nTGlzdEluZ3JlZGllbnRzLnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW0ubmFtZSA9PT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzID0gWy4uLnNob3BwaW5nTGlzdEluZ3JlZGllbnRzLCAuLi5uZXdJdGVtc107XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvcHBpbmdMaXN0LnNob3BwaW5nTGlzdEluZ3JlZGllbnRzID0gaW5ncmVkaWVudHM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgICAgc2hvcHBpbmdMaXN0OiBzaG9wcGluZ0xpc3RcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy52aWV3UmVjaXBlLFxyXG4gICAgICAgIHNlbGVjdGVkUmVjaXBlOiBzZWxlY3RlZFJlY2lwZVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVkaXRSZWNpcGUocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQgfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZWRpdFJlY2lwZSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHNlbGVjdGVkUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIG9uU3VibWl0KHJlY2lwZSkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuY3JlYXRlUmVjaXBlKSB7XHJcbiAgICAgIGxldCBuZXdSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpO1xyXG4gICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgIGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdSZWNpcGVzJykuZG9jKCkuc2V0KHJlY2lwZSlcclxuICAgICAgICAudGhlbihkb2NSZWYgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJSZWNpcGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgdGhpcy5zaG93TG9hZGluZygpO1xyXG4gICAgICAgICAgdGhpcy5nZXRSZWNpcGVzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coXCJFcnJvciBhZGRpbmcgZG9jdW1lbnQ6IFwiLCBlcnJvcikpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5lZGl0UmVjaXBlKSB7XHJcbiAgICAgIGxldCBlZGl0ZWRSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpLFxyXG4gICAgICAgIGN1cnJlbnRJbmRleCA9IHJlY2lwZXMuZmluZEluZGV4KChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gZWRpdGVkUmVjaXBlLmlkIH0pO1xyXG5cclxuICAgICAgcmVjaXBlc1tjdXJyZW50SW5kZXhdID0gZWRpdGVkUmVjaXBlO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgcmVjaXBlczogcmVjaXBlcyxcclxuICAgICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmhvbWVcclxuICAgICAgfVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcbiAgbGF5b3V0VG9nZ2xlckNsaWNrZWQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRMYXlvdXQ6IHByZXZTdGF0ZS5jdXJyZW50TGF5b3V0ID09PSBwcmV2U3RhdGUubGF5b3V0cy5ncmlkID8gcHJldlN0YXRlLmxheW91dHMubGlzdCA6IHByZXZTdGF0ZS5sYXlvdXRzLmdyaWRcclxuICAgIH0pKTtcclxuICB9XHJcbiAgaG9tZUNsaWNrZWQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuaG9tZVxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBncmlkTGF5b3V0KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmdyaWRMYXlvdXRcclxuICAgIH0pKTtcclxuICB9XHJcbiAgbGlzdExheW91dCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5saXN0TGF5b3V0XHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIGNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2KSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogdGhpcy5zdGF0ZS52aWV3cy5zaG9wcGluZ0xpc3RcclxuICAgIH0pKTtcclxuICB9XHJcbiAgYWRkU2hvcHBpbmdMaXN0RXh0cmFzKHNob3BwaW5nTGlzdEV4dHJhcykge1xyXG4gICAgaWYgKHNob3BwaW5nTGlzdEV4dHJhcykge1xyXG4gICAgICBsZXQgc2hvcHBpbmdMaXN0ID0gdGhpcy5zdGF0ZS5zaG9wcGluZ0xpc3Q7XHJcbiAgICAgIHNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXMgPSBzaG9wcGluZ0xpc3RFeHRyYXM7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNob3BwaW5nTGlzdDogc2hvcHBpbmdMaXN0XHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICB0aGlzLnNhdmVTaG9wcGluZ0xpc3QoKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG4gIGxvZ091dENsaWNrZWQoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYXV0aC5zaWduT3V0KCk7XHJcbiAgfVxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcclxuICAgIH0pXHJcbiAgICBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoVXNlciA9PiB7XHJcbiAgICAgIGlmIChhdXRoVXNlcikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHsgYXV0aFVzZXIgfSkpO1xyXG4gICAgICAgIHRoaXMuZ2V0UmVjaXBlcygpO1xyXG4gICAgICAgIHRoaXMuZ2V0U2hvcHBpbmdMaXN0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBhdXRoVXNlcjogbnVsbCB9KSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICB2YXIgcmVjaXBlcyxcclxuICAgICAgY29udGVudCxcclxuICAgICAgd3JhcHBlcixcclxuICAgICAgbmF2ID0gPFJlY2lwZU5hdlxyXG4gICAgICAgIGNyZWF0ZVJlY2lwZT17dGhpcy5jcmVhdGVSZWNpcGV9XHJcbiAgICAgICAgY3JlYXRlU2hvcHBpbmdMaXN0PXt0aGlzLmNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWR9XHJcbiAgICAgICAgaG9tZUNsaWNrZWQ9e3RoaXMuaG9tZUNsaWNrZWR9XHJcbiAgICAgIC8+O1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xyXG4gICAgICByZXR1cm4gKDxkaXY+XHJcbiAgICAgICAgTG9hZGluZyAuLi5cclxuICAgICAgPC9kaXY+KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hdXRoVXNlcikge1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuaG9tZSkge1xyXG4gICAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMubWFwKChyZWNpcGUsIGluZGV4KSA9PlxyXG4gICAgICAgICAgPFJlY2lwZUl0ZW0gb25DbGljaz17dGhpcy5yZWNpcGVDbGlja2VkfSByZWNpcGU9e3JlY2lwZX0ga2V5PXtpbmRleH0gLz4sXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb250ZW50ID0gPGRpdiBpZD17dGhpcy5zdGF0ZS5jdXJyZW50TGF5b3V0ID09PSB0aGlzLnN0YXRlLmxheW91dHMuZ3JpZCA/ICdyZWNpcGUtYm9vay1ncmlkJyA6ICdyZWNpcGUtYm9vay1saXN0J30+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXRvZ2dsZXJcIiBvbkNsaWNrPXt0aGlzLmxheW91dFRvZ2dsZXJDbGlja2VkfT5cclxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmN1cnJlbnRMYXlvdXQgPT09IHRoaXMuc3RhdGUubGF5b3V0cy5ncmlkID8gJ2ZhcyBmYS10aCcgOiAnZmFzIGZhLWxpc3QnfT48L2k+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHtyZWNpcGVzfVxyXG4gICAgICAgIDwvZGl2PjtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmNyZWF0ZVJlY2lwZSkge1xyXG4gICAgICAgIGNvbnRlbnQgPSA8UmVjaXBlRm9ybSByZWNpcGU9e3RoaXMuc3RhdGUubmV3UmVjaXBlfVxyXG4gICAgICAgICAgLy8gbmV3SW5ncmVkaWVudE5hbWU9e3RoaXMuc3RhdGUubmV3SW5ncmVkaWVudE5hbWV9XHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEluZ3JlZGllbnR9XHJcbiAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5pbmdyZWRpZW50T25EZWxldGV9XHJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy52aWV3UmVjaXBlKSB7XHJcbiAgICAgICAgY29udGVudCA9IDxSZWNpcGVWaWV3IHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX0gb25DbGljaz17dGhpcy5lZGl0UmVjaXBlfSAvPjtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmVkaXRSZWNpcGUpIHtcclxuICAgICAgICBjb250ZW50ID0gPFJlY2lwZUZvcm0gcmVjaXBlPXt0aGlzLnN0YXRlLnNlbGVjdGVkUmVjaXBlfVxyXG4gICAgICAgICAgbmV3SW5ncmVkaWVudE5hbWU9e3RoaXMuc3RhdGUubmV3SW5ncmVkaWVudE5hbWV9XHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFkZEluZ3JlZGllbnR9XHJcbiAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5pbmdyZWRpZW50T25EZWxldGV9XHJcbiAgICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3Muc2hvcHBpbmdMaXN0KSB7XHJcbiAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5tYXAoKHJlY2lwZSwgaW5kZXgpID0+XHJcbiAgICAgICAgICA8UmVjaXBlSXRlbSBvbkNsaWNrPXt0aGlzLnJlY2lwZUNsaWNrZWR9IHJlY2lwZT17cmVjaXBlfSBrZXk9e2luZGV4fSAvPixcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB3cmFwcGVyID1cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi1mbGV4LXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNob3BwaW5nLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxTaG9wcGluZ0xpc3Qgc2hvcHBpbmdMaXN0PXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RJbmdyZWRpZW50c31cclxuICAgICAgICAgICAgICAgICAgc2hvcHBpbmdMaXN0RXh0cmFzPXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdC5zaG9wcGluZ0xpc3RFeHRyYXN9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkU2hvcHBpbmdMaXN0RXh0cmFzfVxyXG4gICAgICAgICAgICAgICAgICBkZWxldGVTaG9wcGluZ0xpc3RJbmdyZWRpZW50PXt0aGlzLmRlbGV0ZVNob3BwaW5nTGlzdEluZ3JlZGllbnR9XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZVNob3BwaW5nTGlzdEV4dHJhPXt0aGlzLmRlbGV0ZVNob3BwaW5nTGlzdEV4dHJhfVxyXG4gICAgICAgICAgICAgICAgICBjcm9zc091dFNob3BwaW5nTGlzdEluZ3JlZGllbnQ9e3RoaXMuY3Jvc3NPdXRTaG9wcGluZ0xpc3RJbmdyZWRpZW50fVxyXG4gICAgICAgICAgICAgICAgICBjcm9zc091dFNob3BwaW5nTGlzdEV4dHJhPXt0aGlzLmNyb3NzT3V0U2hvcHBpbmdMaXN0RXh0cmF9XHJcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZU5ld1Nob3BwaW5nTGlzdD17dGhpcy5uZXdTaG9wcGluZ0xpc3R9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgaWQ9e3RoaXMuc3RhdGUuY3VycmVudExheW91dCA9PT0gdGhpcy5zdGF0ZS5sYXlvdXRzLmdyaWQgPyAncmVjaXBlLWJvb2stZ3JpZCcgOiAncmVjaXBlLWJvb2stbGlzdCd9PlxyXG48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3cmFwcGVyID1cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi13cmFwcGVyXCI+IHtjb250ZW50fTwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInJlY2lwZS1idXR0b24gbG9nLW91dC1idXR0b25cIiBvbkNsaWNrPXt0aGlzLmxvZ091dENsaWNrZWR9PkxvZyBPdXQ8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3cmFwcGVyID1cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPExvZ2luIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3cmFwcGVyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuey8qIDxkaXYgY2xhc3M9XCJtYXgtNjAwXCI+bWF4LXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi02MDBcIj5taW4td2lkdGg6IDYwMHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTc2OFwiPm1pbi13aWR0aDogNzY4cHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tOTkyXCI+bWluLXdpZHRoOiA5OTJweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi0xMjAwXCI+bWluLXdpZHRoOiAxMjAwcHg8L2Rpdj5cclxuICAgICAgIDwvZGl2PiAqL31cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxSZWNpcGVQYWdlIC8+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTsiXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///61\\n\")}});","extractedComments":[]}