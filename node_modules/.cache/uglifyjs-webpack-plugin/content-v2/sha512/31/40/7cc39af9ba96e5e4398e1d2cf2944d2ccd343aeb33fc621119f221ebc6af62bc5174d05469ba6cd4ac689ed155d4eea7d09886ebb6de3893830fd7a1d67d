{"map":"{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\"}","code":"webpackHotUpdate(0,{34:function(module,exports,__webpack_require__){\"use strict\";eval(\"\\n\\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\nvar _react = __webpack_require__(0);\\n\\nvar _react2 = _interopRequireDefault(_react);\\n\\nvar _reactDom = __webpack_require__(32);\\n\\nvar _reactDom2 = _interopRequireDefault(_reactDom);\\n\\nvar _RecipeItem = __webpack_require__(22);\\n\\nvar _RecipeForm = __webpack_require__(18);\\n\\nvar _RecipeView = __webpack_require__(13);\\n\\nvar _nav = __webpack_require__(64);\\n\\nvar _ShoppingList = __webpack_require__(12);\\n\\nvar _reactTextareaAutosize = __webpack_require__(6);\\n\\nvar _reactTextareaAutosize2 = _interopRequireDefault(_reactTextareaAutosize);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return call && (typeof call === \\\"object\\\" || typeof call === \\\"function\\\") ? call : self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function, not \\\" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\\n\\nvar RecipePage = function (_React$Component) {\\n  _inherits(RecipePage, _React$Component);\\n\\n  function RecipePage(props) {\\n    _classCallCheck(this, RecipePage);\\n\\n    var _this = _possibleConstructorReturn(this, (RecipePage.__proto__ || Object.getPrototypeOf(RecipePage)).call(this, props));\\n\\n    _this.state = {\\n      currentView: 1,\\n      views: { gridLayout: 1, listLayout: 2, createRecipe: 3, editRecipe: 4, viewRecipe: 5 },\\n      selectedRecipe: {},\\n      recipes: [{\\n        id: 1,\\n        name: \\\"Cheese cake\\\",\\n        description: \\\"Cheese based cake\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Cheese',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Cake',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }, {\\n        id: 2,\\n        name: \\\"Banana bread\\\",\\n        description: \\\"Banana based bread\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Banana',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Bread',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }, {\\n        id: 3,\\n        name: \\\"Key lime pie\\\",\\n        description: \\\"Key based pie\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"Step 1 Cook, Step 2 eat\\\",\\n        ingredients: [{\\n          name: 'Key',\\n          amount: 200,\\n          unitOfMeasurement: 'g'\\n        }, {\\n          name: 'Lime',\\n          amount: 1,\\n          unitOfMeasurement: 'l'\\n        }]\\n      }],\\n      newRecipe: {\\n        id: 0,\\n        name: \\\"\\\",\\n        description: \\\"\\\",\\n        newIngredientName: \\\"\\\",\\n        method: \\\"\\\",\\n        ingredients: []\\n      },\\n      creatingShoppingList: false,\\n      shoppingList: []\\n    };\\n    _this.onSubmit = _this.onSubmit.bind(_this);\\n    _this.createRecipe = _this.createRecipe.bind(_this);\\n    _this.recipeClicked = _this.recipeClicked.bind(_this);\\n    _this.editRecipe = _this.editRecipe.bind(_this);\\n    _this.gridLayout = _this.gridLayout.bind(_this);\\n    _this.listLayout = _this.listLayout.bind(_this);\\n    _this.createShoppingListClicked = _this.createShoppingListClicked.bind(_this);\\n    return _this;\\n  }\\n\\n  _createClass(RecipePage, [{\\n    key: 'createRecipe',\\n    value: function createRecipe() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.createRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'recipeClicked',\\n    value: function recipeClicked(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      }),\\n          currentShoppingList = this.state.shoppingList,\\n          existingIngredients,\\n          selectedRecipeIngredients,\\n          newIngredients = [];\\n\\n      if (this.state.creatingShoppingList) {\\n        //Calc totals    \\n        for (var i = 0; i < selectedRecipe.ingredients.length; i++) {\\n          for (var j = 0; j < currentShoppingList.length; j++) {\\n            if (selectedRecipe.ingredients[i].name === currentShoppingList[j].name) {\\n              currentShoppingList[j].amount += selectedRecipe.ingredients[i].amount;\\n            }\\n          }\\n        }\\n\\n        //Get mattched resuts\\n        var matchedItems = selectedRecipe.ingredients.filter(function (ingredient) {\\n          return currentShoppingList.some(function (listItem) {\\n            return listItem.name === ingredient.name;\\n          });\\n        });\\n        debugger;\\n        currentShoppingList.map(function (item) {\\n          matchedItems.find(function (matchedItem) {\\n            return item.name === matchedItem.name;\\n          });\\n        });\\n\\n        var newItems = selectedRecipe.ingredients.filter(function (ingredient) {\\n          return currentShoppingList.some(function (listItem) {\\n            return listItem.name != ingredient.name;\\n          });\\n        });\\n\\n        // .map(function(o){\\n        //     // use reduce to make objects with only the required properties\\n        //     // and map to apply this to the filtered array as a whole\\n        //     return props.reduce(function(newo, name){\\n        //         newo[name] = o[name];\\n        //         return newo;\\n        //     }, {});\\n        // });\\n\\n\\n        this.setState(function (prevState) {\\n          return {\\n            shoppingList: [].concat(_toConsumableArray(currentShoppingList), _toConsumableArray(selectedRecipe.ingredients))\\n          };\\n        });\\n      } else {\\n        this.setState(function (prevState) {\\n          return {\\n            currentView: prevState.views.viewRecipe,\\n            selectedRecipe: selectedRecipe\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'editRecipe',\\n    value: function editRecipe(recipeId) {\\n      var selectedRecipe = this.state.recipes.find(function (recipe) {\\n        return recipe.id === recipeId;\\n      });\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.editRecipe,\\n          selectedRecipe: selectedRecipe\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'onSubmit',\\n    value: function onSubmit(recipe) {\\n      if (this.state.currentView === this.state.views.createRecipe) {\\n        var newRecipe = recipe,\\n            recipes = this.state.recipes.slice();\\n        newRecipe.id = recipes.length + 1;\\n\\n        recipes.push(newRecipe);\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        var editedRecipe = recipe,\\n            _recipes = this.state.recipes.slice(),\\n            currentIndex = _recipes.findIndex(function (recipe) {\\n          return recipe.id === editedRecipe.id;\\n        });\\n\\n        _recipes[currentIndex] = editedRecipe;\\n        this.setState(function (prevState) {\\n          return {\\n            recipes: _recipes,\\n            currentView: prevState.views.gridLayout\\n          };\\n        });\\n      }\\n    }\\n  }, {\\n    key: 'gridLayout',\\n    value: function gridLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.gridLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'listLayout',\\n    value: function listLayout() {\\n      this.setState(function (prevState) {\\n        return {\\n          currentView: prevState.views.listLayout\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'createShoppingListClicked',\\n    value: function createShoppingListClicked() {\\n      this.setState(function (prev) {\\n        return {\\n          creatingShoppingList: prev.creatingShoppingList ? false : true\\n        };\\n      });\\n    }\\n  }, {\\n    key: 'render',\\n    value: function render() {\\n      var _this2 = this;\\n\\n      var recipes,\\n          content,\\n          wrapper,\\n          nav = _react2.default.createElement(_nav.RecipeNav, {\\n        createRecipe: this.createRecipe,\\n        createShoppingList: this.createShoppingListClicked,\\n        gridLayout: this.gridLayout,\\n        listLayout: this.listLayout });\\n\\n      if (this.state.currentView === this.state.views.gridLayout || this.state.currentView === this.state.views.listLayout) {\\n        recipes = this.state.recipes.map(function (recipe, index) {\\n          return _react2.default.createElement(_RecipeItem.RecipeItem, { onClick: _this2.recipeClicked, recipe: recipe, key: index });\\n        });\\n        content = _react2.default.createElement(\\n          'div',\\n          { id: this.state.currentView === this.state.views.gridLayout ? 'recipe-book-grid' : 'recipe-book-list' },\\n          recipes\\n        );\\n      } else if (this.state.currentView === this.state.views.createRecipe) {\\n        content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.newRecipe\\n          // newIngredientName={this.state.newIngredientName}\\n          , onChange: this.handleInputChanged,\\n          onClick: this.addIngredient,\\n          onDelete: this.ingredientOnDelete,\\n          onSubmit: this.onSubmit });\\n      } else if (this.state.currentView === this.state.views.viewRecipe) {\\n        content = _react2.default.createElement(_RecipeView.RecipeView, { recipe: this.state.selectedRecipe, onClick: this.editRecipe });\\n      } else if (this.state.currentView === this.state.views.editRecipe) {\\n        content = _react2.default.createElement(_RecipeForm.RecipeForm, { recipe: this.state.selectedRecipe,\\n          newIngredientName: this.state.newIngredientName,\\n          onChange: this.handleInputChanged,\\n          onClick: this.addIngredient,\\n          onDelete: this.ingredientOnDelete,\\n          onSubmit: this.onSubmit });\\n      }\\n\\n      if (this.state.creatingShoppingList) {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          nav,\\n          _react2.default.createElement(\\n            'div',\\n            { className: 'main-flex-wrapper' },\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'shopping-wrapper' },\\n              _react2.default.createElement(_ShoppingList.ShoppingList, { shoppingList: this.state.shoppingList })\\n            ),\\n            _react2.default.createElement(\\n              'div',\\n              { className: 'recipe-book-wrapper' },\\n              content\\n            )\\n          )\\n        );\\n      } else {\\n        wrapper = _react2.default.createElement(\\n          'div',\\n          null,\\n          nav,\\n          _react2.default.createElement(\\n            'div',\\n            { className: 'main-wrapper' },\\n            ' ',\\n            content\\n          )\\n        );\\n      }\\n      return wrapper;\\n    }\\n  }]);\\n\\n  return RecipePage;\\n}(_react2.default.Component);\\n\\n{} /* <div class=\\\"max-600\\\">max-width: 600px</div>\\r\\n            <div class=\\\"min-600\\\">min-width: 600px</div>\\r\\n            <div class=\\\"min-768\\\">min-width: 768px</div>\\r\\n            <div class=\\\"min-992\\\">min-width: 992px</div>\\r\\n            <div class=\\\"min-1200\\\">min-width: 1200px</div>\\r\\n         </div> */\\n// ========================================\\n\\n_reactDom2.default.render(_react2.default.createElement(RecipePage, null), document.getElementById('root'));\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzeD83YThjIl0sIm5hbWVzIjpbIlJlY2lwZVBhZ2UiLCJwcm9wcyIsInN0YXRlIiwiY3VycmVudFZpZXciLCJ2aWV3cyIsImdyaWRMYXlvdXQiLCJsaXN0TGF5b3V0IiwiY3JlYXRlUmVjaXBlIiwiZWRpdFJlY2lwZSIsInZpZXdSZWNpcGUiLCJzZWxlY3RlZFJlY2lwZSIsInJlY2lwZXMiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm1ldGhvZCIsImluZ3JlZGllbnRzIiwiYW1vdW50IiwidW5pdE9mTWVhc3VyZW1lbnQiLCJuZXdJbmdyZWRpZW50TmFtZSIsIm5ld1JlY2lwZSIsImNyZWF0aW5nU2hvcHBpbmdMaXN0Iiwic2hvcHBpbmdMaXN0Iiwib25TdWJtaXQiLCJiaW5kIiwicmVjaXBlQ2xpY2tlZCIsImNyZWF0ZVNob3BwaW5nTGlzdENsaWNrZWQiLCJzZXRTdGF0ZSIsInByZXZTdGF0ZSIsInJlY2lwZUlkIiwiZmluZCIsInJlY2lwZSIsImN1cnJlbnRTaG9wcGluZ0xpc3QiLCJleGlzdGluZ0luZ3JlZGllbnRzIiwic2VsZWN0ZWRSZWNpcGVJbmdyZWRpZW50cyIsIm5ld0luZ3JlZGllbnRzIiwiaSIsImxlbmd0aCIsImoiLCJtYXRjaGVkSXRlbXMiLCJmaWx0ZXIiLCJzb21lIiwibGlzdEl0ZW0iLCJpbmdyZWRpZW50IiwibWFwIiwiaXRlbSIsIm1hdGNoZWRJdGVtIiwibmV3SXRlbXMiLCJzbGljZSIsInB1c2giLCJlZGl0ZWRSZWNpcGUiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJwcmV2IiwiY29udGVudCIsIndyYXBwZXIiLCJuYXYiLCJpbmRleCIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImFkZEluZ3JlZGllbnQiLCJpbmdyZWRpZW50T25EZWxldGUiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiOzs7O0FB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S2lCLEMsQ0FMaEI7Ozs7OztBQU1EOztBQUVBLG1CQUFTQyxNQUFULENBQWdCLDhCQUFDLFVBQUQsT0FBaEIsRUFDRUMsU0FBU0MsY0FBVCxDQUF3QixNQUF4QixDQURGIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NLCB7IHJlbmRlciB9IGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IFJlY2lwZUl0ZW0gfSBmcm9tICcuL1JlY2lwZUl0ZW0uanN4JztcclxuaW1wb3J0IHsgUmVjaXBlRm9ybSB9IGZyb20gJy4vUmVjaXBlRm9ybS5qc3gnO1xyXG5pbXBvcnQgeyBSZWNpcGVWaWV3IH0gZnJvbSAnLi9SZWNpcGVWaWV3LmpzeCc7XHJcbmltcG9ydCB7IFJlY2lwZU5hdiB9IGZyb20gJy4vbmF2LmpzeCc7XHJcbmltcG9ydCB7IFNob3BwaW5nTGlzdCB9IGZyb20gJy4vU2hvcHBpbmdMaXN0LmpzeCc7XHJcbmltcG9ydCBUZXh0YXJlYSBmcm9tIFwicmVhY3QtdGV4dGFyZWEtYXV0b3NpemVcIjtcclxuXHJcbmNsYXNzIFJlY2lwZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjdXJyZW50VmlldzogMSxcclxuICAgICAgdmlld3M6IHsgZ3JpZExheW91dDogMSwgbGlzdExheW91dDogMiwgY3JlYXRlUmVjaXBlOiAzLCBlZGl0UmVjaXBlOiA0LCB2aWV3UmVjaXBlOiA1IH0sXHJcbiAgICAgIHNlbGVjdGVkUmVjaXBlOiB7fSxcclxuICAgICAgcmVjaXBlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAxLFxyXG4gICAgICAgICAgbmFtZTogXCJDaGVlc2UgY2FrZVwiLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2hlZXNlIGJhc2VkIGNha2VcIixcclxuICAgICAgICAgIG1ldGhvZDogXCJTdGVwIDEgQ29vaywgU3RlcCAyIGVhdFwiLFxyXG4gICAgICAgICAgaW5ncmVkaWVudHM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdDaGVlc2UnLFxyXG4gICAgICAgICAgICAgIGFtb3VudDogMjAwLFxyXG4gICAgICAgICAgICAgIHVuaXRPZk1lYXN1cmVtZW50OiAnZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdDYWtlJyxcclxuICAgICAgICAgICAgICBhbW91bnQ6IDEsXHJcbiAgICAgICAgICAgICAgdW5pdE9mTWVhc3VyZW1lbnQ6ICdsJ1xyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaWQ6IDIsXHJcbiAgICAgICAgICBuYW1lOiBcIkJhbmFuYSBicmVhZFwiLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQmFuYW5hIGJhc2VkIGJyZWFkXCIsXHJcbiAgICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICAgIG1ldGhvZDogXCJTdGVwIDEgQ29vaywgU3RlcCAyIGVhdFwiLFxyXG4gICAgICAgICAgaW5ncmVkaWVudHM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdCYW5hbmEnLFxyXG4gICAgICAgICAgICAgIGFtb3VudDogMjAwLFxyXG4gICAgICAgICAgICAgIHVuaXRPZk1lYXN1cmVtZW50OiAnZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdCcmVhZCcsXHJcbiAgICAgICAgICAgICAgYW1vdW50OiAxLFxyXG4gICAgICAgICAgICAgIHVuaXRPZk1lYXN1cmVtZW50OiAnbCdcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAzLFxyXG4gICAgICAgICAgbmFtZTogXCJLZXkgbGltZSBwaWVcIixcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIktleSBiYXNlZCBwaWVcIixcclxuICAgICAgICAgIG5ld0luZ3JlZGllbnROYW1lOiBcIlwiLFxyXG4gICAgICAgICAgbWV0aG9kOiBcIlN0ZXAgMSBDb29rLCBTdGVwIDIgZWF0XCIsXHJcbiAgICAgICAgICBpbmdyZWRpZW50czogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ0tleScsXHJcbiAgICAgICAgICAgICAgYW1vdW50OiAyMDAsXHJcbiAgICAgICAgICAgICAgdW5pdE9mTWVhc3VyZW1lbnQ6ICdnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ0xpbWUnLFxyXG4gICAgICAgICAgICAgIGFtb3VudDogMSxcclxuICAgICAgICAgICAgICB1bml0T2ZNZWFzdXJlbWVudDogJ2wnXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgICAgbmV3UmVjaXBlOiB7XHJcbiAgICAgICAgaWQ6IDAsXHJcbiAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICBuZXdJbmdyZWRpZW50TmFtZTogXCJcIixcclxuICAgICAgICBtZXRob2Q6IFwiXCIsXHJcbiAgICAgICAgaW5ncmVkaWVudHM6IFtdXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBmYWxzZSxcclxuICAgICAgc2hvcHBpbmdMaXN0OiBbXVxyXG4gICAgfVxyXG4gICAgdGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlUmVjaXBlID0gdGhpcy5jcmVhdGVSZWNpcGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMucmVjaXBlQ2xpY2tlZCA9IHRoaXMucmVjaXBlQ2xpY2tlZC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5lZGl0UmVjaXBlID0gdGhpcy5lZGl0UmVjaXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdyaWRMYXlvdXQgPSB0aGlzLmdyaWRMYXlvdXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMubGlzdExheW91dCA9IHRoaXMubGlzdExheW91dC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkID0gdGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIGNyZWF0ZVJlY2lwZSgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHtcclxuICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGVcclxuICAgIH0pKTtcclxuICB9XHJcbiAgcmVjaXBlQ2xpY2tlZChyZWNpcGVJZCkge1xyXG4gICAgdmFyIHNlbGVjdGVkUmVjaXBlID0gdGhpcy5zdGF0ZS5yZWNpcGVzLmZpbmQoKHJlY2lwZSkgPT4geyByZXR1cm4gcmVjaXBlLmlkID09PSByZWNpcGVJZDsgfSksXHJcbiAgICAgIGN1cnJlbnRTaG9wcGluZ0xpc3QgPSB0aGlzLnN0YXRlLnNob3BwaW5nTGlzdCxcclxuICAgICAgZXhpc3RpbmdJbmdyZWRpZW50cyxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGVJbmdyZWRpZW50cyxcclxuICAgICAgbmV3SW5ncmVkaWVudHMgPSBbXTtcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jcmVhdGluZ1Nob3BwaW5nTGlzdCkge1xyXG4gICAgICAvL0NhbGMgdG90YWxzICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkUmVjaXBlLmluZ3JlZGllbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyZW50U2hvcHBpbmdMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWNpcGUuaW5ncmVkaWVudHNbaV0ubmFtZSA9PT0gY3VycmVudFNob3BwaW5nTGlzdFtqXS5uYW1lKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTaG9wcGluZ0xpc3Rbal0uYW1vdW50ICs9IHNlbGVjdGVkUmVjaXBlLmluZ3JlZGllbnRzW2ldLmFtb3VudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vR2V0IG1hdHRjaGVkIHJlc3V0c1xyXG4gICAgICBsZXQgbWF0Y2hlZEl0ZW1zID0gc2VsZWN0ZWRSZWNpcGUuaW5ncmVkaWVudHMuZmlsdGVyKGluZ3JlZGllbnQgPT4ge1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50U2hvcHBpbmdMaXN0LnNvbWUobGlzdEl0ZW0gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGxpc3RJdGVtLm5hbWUgPT09IGluZ3JlZGllbnQubmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuZGVidWdnZXI7XHJcbiAgICAgIGN1cnJlbnRTaG9wcGluZ0xpc3QubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgIG1hdGNoZWRJdGVtcy5maW5kKG1hdGNoZWRJdGVtID0+IGl0ZW0ubmFtZSA9PT0gbWF0Y2hlZEl0ZW0ubmFtZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICBsZXQgbmV3SXRlbXMgPSBzZWxlY3RlZFJlY2lwZS5pbmdyZWRpZW50cy5maWx0ZXIoZnVuY3Rpb24gKGluZ3JlZGllbnQpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudFNob3BwaW5nTGlzdC5zb21lKGZ1bmN0aW9uIChsaXN0SXRlbSkge1xyXG4gICAgICAgICAgcmV0dXJuIGxpc3RJdGVtLm5hbWUgIT0gaW5ncmVkaWVudC5uYW1lO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gLm1hcChmdW5jdGlvbihvKXtcclxuICAgICAgLy8gICAgIC8vIHVzZSByZWR1Y2UgdG8gbWFrZSBvYmplY3RzIHdpdGggb25seSB0aGUgcmVxdWlyZWQgcHJvcGVydGllc1xyXG4gICAgICAvLyAgICAgLy8gYW5kIG1hcCB0byBhcHBseSB0aGlzIHRvIHRoZSBmaWx0ZXJlZCBhcnJheSBhcyBhIHdob2xlXHJcbiAgICAgIC8vICAgICByZXR1cm4gcHJvcHMucmVkdWNlKGZ1bmN0aW9uKG5ld28sIG5hbWUpe1xyXG4gICAgICAvLyAgICAgICAgIG5ld29bbmFtZV0gPSBvW25hbWVdO1xyXG4gICAgICAvLyAgICAgICAgIHJldHVybiBuZXdvO1xyXG4gICAgICAvLyAgICAgfSwge30pO1xyXG4gICAgICAvLyB9KTtcclxuXHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgc2hvcHBpbmdMaXN0OiBbLi4uY3VycmVudFNob3BwaW5nTGlzdCwgLi4uc2VsZWN0ZWRSZWNpcGUuaW5ncmVkaWVudHNdXHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy52aWV3UmVjaXBlLFxyXG4gICAgICAgIHNlbGVjdGVkUmVjaXBlOiBzZWxlY3RlZFJlY2lwZVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVkaXRSZWNpcGUocmVjaXBlSWQpIHtcclxuICAgIHZhciBzZWxlY3RlZFJlY2lwZSA9IHRoaXMuc3RhdGUucmVjaXBlcy5maW5kKChyZWNpcGUpID0+IHsgcmV0dXJuIHJlY2lwZS5pZCA9PT0gcmVjaXBlSWQgfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZWRpdFJlY2lwZSxcclxuICAgICAgc2VsZWN0ZWRSZWNpcGU6IHNlbGVjdGVkUmVjaXBlXHJcbiAgICB9KSk7XHJcbiAgfVxyXG4gIG9uU3VibWl0KHJlY2lwZSkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuY3JlYXRlUmVjaXBlKSB7XHJcbiAgICAgIGxldCBuZXdSZWNpcGUgPSByZWNpcGUsXHJcbiAgICAgICAgcmVjaXBlcyA9IHRoaXMuc3RhdGUucmVjaXBlcy5zbGljZSgpO1xyXG4gICAgICBuZXdSZWNpcGUuaWQgPSByZWNpcGVzLmxlbmd0aCArIDE7XHJcblxyXG4gICAgICByZWNpcGVzLnB1c2gobmV3UmVjaXBlKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcmVjaXBlczogcmVjaXBlcyxcclxuICAgICAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgICAgIH1cclxuICAgICAgKSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFZpZXcgPT09IHRoaXMuc3RhdGUudmlld3MuZWRpdFJlY2lwZSkge1xyXG4gICAgICBsZXQgZWRpdGVkUmVjaXBlID0gcmVjaXBlLFxyXG4gICAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMuc2xpY2UoKSxcclxuICAgICAgICBjdXJyZW50SW5kZXggPSByZWNpcGVzLmZpbmRJbmRleCgocmVjaXBlKSA9PiB7IHJldHVybiByZWNpcGUuaWQgPT09IGVkaXRlZFJlY2lwZS5pZCB9KTtcclxuXHJcbiAgICAgIHJlY2lwZXNbY3VycmVudEluZGV4XSA9IGVkaXRlZFJlY2lwZTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICAgIHJlY2lwZXM6IHJlY2lwZXMsXHJcbiAgICAgICAgY3VycmVudFZpZXc6IHByZXZTdGF0ZS52aWV3cy5ncmlkTGF5b3V0XHJcbiAgICAgIH1cclxuICAgICAgKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdyaWRMYXlvdXQoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgIGN1cnJlbnRWaWV3OiBwcmV2U3RhdGUudmlld3MuZ3JpZExheW91dFxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBsaXN0TGF5b3V0KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiAoe1xyXG4gICAgICBjdXJyZW50VmlldzogcHJldlN0YXRlLnZpZXdzLmxpc3RMYXlvdXRcclxuICAgIH0pKTtcclxuICB9XHJcbiAgY3JlYXRlU2hvcHBpbmdMaXN0Q2xpY2tlZCgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXYpID0+ICh7XHJcbiAgICAgIGNyZWF0aW5nU2hvcHBpbmdMaXN0OiBwcmV2LmNyZWF0aW5nU2hvcHBpbmdMaXN0ID8gZmFsc2UgOiB0cnVlXHJcbiAgICB9KSlcclxuICB9XHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdmFyIHJlY2lwZXMsXHJcbiAgICAgIGNvbnRlbnQsXHJcbiAgICAgIHdyYXBwZXIsXHJcbiAgICAgIG5hdiA9IDxSZWNpcGVOYXZcclxuICAgICAgICBjcmVhdGVSZWNpcGU9e3RoaXMuY3JlYXRlUmVjaXBlfVxyXG4gICAgICAgIGNyZWF0ZVNob3BwaW5nTGlzdD17dGhpcy5jcmVhdGVTaG9wcGluZ0xpc3RDbGlja2VkfVxyXG4gICAgICAgIGdyaWRMYXlvdXQ9e3RoaXMuZ3JpZExheW91dH1cclxuICAgICAgICBsaXN0TGF5b3V0PXt0aGlzLmxpc3RMYXlvdXR9IC8+O1xyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmdyaWRMYXlvdXQgfHwgdGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5saXN0TGF5b3V0KSB7XHJcbiAgICAgIHJlY2lwZXMgPSB0aGlzLnN0YXRlLnJlY2lwZXMubWFwKChyZWNpcGUsIGluZGV4KSA9PlxyXG4gICAgICAgIDxSZWNpcGVJdGVtIG9uQ2xpY2s9e3RoaXMucmVjaXBlQ2xpY2tlZH0gcmVjaXBlPXtyZWNpcGV9IGtleT17aW5kZXh9IC8+LFxyXG4gICAgICApO1xyXG4gICAgICBjb250ZW50ID0gPGRpdiBpZD17dGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5ncmlkTGF5b3V0ID8gJ3JlY2lwZS1ib29rLWdyaWQnIDogJ3JlY2lwZS1ib29rLWxpc3QnfT5cclxuICAgICAgICB7cmVjaXBlc31cclxuICAgICAgPC9kaXY+O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy5jcmVhdGVSZWNpcGUpIHtcclxuICAgICAgY29udGVudCA9IDxSZWNpcGVGb3JtIHJlY2lwZT17dGhpcy5zdGF0ZS5uZXdSZWNpcGV9XHJcbiAgICAgICAgLy8gbmV3SW5ncmVkaWVudE5hbWU9e3RoaXMuc3RhdGUubmV3SW5ncmVkaWVudE5hbWV9XHJcbiAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VkfVxyXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkSW5ncmVkaWVudH1cclxuICAgICAgICBvbkRlbGV0ZT17dGhpcy5pbmdyZWRpZW50T25EZWxldGV9XHJcbiAgICAgICAgb25TdWJtaXQ9e3RoaXMub25TdWJtaXR9IC8+O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50VmlldyA9PT0gdGhpcy5zdGF0ZS52aWV3cy52aWV3UmVjaXBlKSB7XHJcbiAgICAgIGNvbnRlbnQgPSA8UmVjaXBlVmlldyByZWNpcGU9e3RoaXMuc3RhdGUuc2VsZWN0ZWRSZWNpcGV9IG9uQ2xpY2s9e3RoaXMuZWRpdFJlY2lwZX0gLz47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRWaWV3ID09PSB0aGlzLnN0YXRlLnZpZXdzLmVkaXRSZWNpcGUpIHtcclxuICAgICAgY29udGVudCA9IDxSZWNpcGVGb3JtIHJlY2lwZT17dGhpcy5zdGF0ZS5zZWxlY3RlZFJlY2lwZX1cclxuICAgICAgICBuZXdJbmdyZWRpZW50TmFtZT17dGhpcy5zdGF0ZS5uZXdJbmdyZWRpZW50TmFtZX1cclxuICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZWR9XHJcbiAgICAgICAgb25DbGljaz17dGhpcy5hZGRJbmdyZWRpZW50fVxyXG4gICAgICAgIG9uRGVsZXRlPXt0aGlzLmluZ3JlZGllbnRPbkRlbGV0ZX1cclxuICAgICAgICBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdH0gLz47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3JlYXRpbmdTaG9wcGluZ0xpc3QpIHtcclxuICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tZmxleC13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hvcHBpbmctd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgIDxTaG9wcGluZ0xpc3Qgc2hvcHBpbmdMaXN0PXt0aGlzLnN0YXRlLnNob3BwaW5nTGlzdH0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjaXBlLWJvb2std3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgIHtjb250ZW50fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3JhcHBlciA9XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtuYXZ9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4td3JhcHBlclwiPiB7Y29udGVudH08L2Rpdj5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB3cmFwcGVyXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuey8qIDxkaXYgY2xhc3M9XCJtYXgtNjAwXCI+bWF4LXdpZHRoOiA2MDBweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi02MDBcIj5taW4td2lkdGg6IDYwMHB4PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWluLTc2OFwiPm1pbi13aWR0aDogNzY4cHg8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaW4tOTkyXCI+bWluLXdpZHRoOiA5OTJweDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1pbi0xMjAwXCI+bWluLXdpZHRoOiAxMjAwcHg8L2Rpdj5cclxuICAgICAgIDwvZGl2PiAqL31cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuUmVhY3RET00ucmVuZGVyKDxSZWNpcGVQYWdlIC8+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcclxuKTsiXSwic291cmNlUm9vdCI6IiJ9\\n//# sourceURL=webpack-internal:///34\\n\")}});","extractedComments":[]}